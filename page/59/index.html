<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.ico">
  <link rel="mask-icon" href="/icon.svg" color="#222">
  <meta name="google-site-verification" content="hcdiytqUGPoTW0eAaN6TWAmRfiv7IWFIIc9DKNr7Eno">
  <meta name="yandex-verification" content="eb8f01295fdccb3d">
  <meta name="baidu-site-verification" content="QoJxa8tZnO">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Times+New+Roman:300,300italic,400,400italic,700,700italic%7CRaleway:300,300italic,400,400italic,700,700italic%7COswald:300,300italic,400,400italic,700,700italic%7CWork+Sans:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"chillyc.info","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.18.1","exturl":true,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":true,"nav":null,"activeClass":"utterances"},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="帐前卒专栏">
<meta property="og:url" content="http://chillyc.info/page/59/">
<meta property="og:site_name" content="帐前卒专栏">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="帐前卒">
<meta property="article:tag" content="有意思的代码，有意思的架构, 有趣的小说, 好看的故事, code, software, articles, novel, architect">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://chillyc.info/page/59/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/59/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>帐前卒专栏 - code, software architect, articles and novels.</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <!-- Global site tag (gtag.js) - Google Analytics start -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-11621532-3"></script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6565392687771630"
     crossorigin="anonymous"></script>
<script>
  window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-11621532-3');
</script>
 <!-- Global site tag (gtag.js) - Google Analytics end -->
  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">帐前卒专栏</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">code, software architect, articles and novels.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="帐前卒"
      src="/icon.svg">
  <p class="site-author-name" itemprop="name">帐前卒</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">792</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">736</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2NoaWxseQ==" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;chilly"><i class="fab fa-github fa-fw"></i>GitHub</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS9jY3R0XzE=" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;cctt_1"><i class="fab fa-twitter fa-fw"></i>Twitter</span>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLW5kLzQuMC8="><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/big/by_nc_nd.svg" alt="Creative Commons"></span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2007/12/03/1914273/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2007/12/03/1914273/" class="post-title-link" itemprop="url">发布网站，解决SecurityException</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2007-12-03 19:03:00" itemprop="dateCreated datePublished" datetime="2007-12-03T19:03:00+08:00">2007-12-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:34:50" itemprop="dateModified" datetime="2023-10-05T12:34:50+08:00">2023-10-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>今天发布网站一直不顺。应用中含有Webservices的调用，本地发布成功，但是异地发布却是失败的。后来排除WebService的Url不匹配问题。结果程序<br>还是报一下异常。</p>
<p>[SecurityException: Request for the permission of type  ‘。。。’</p>
<p>解决方案是：在web.config文件中加入<trust level="Full" />解决。</p>
<p>异地发布时，如果没有单独的ErrorPage,就要添加</p>
<customErrors mode="Off"/>

<p>如果报有can not find type in</p>
<section name="Microsoft.GravaMobile.WebSite.Properties.Settings"
type="System.Configuration.ClientSettingsSection, System, Version=2.0.0.0,
Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false" />

<p>很有可能IIS上的网站设置选用的不是.net framework 2.0，这个在网站的属性里设置即可。</p>
<p>这里的异地发布是指，不再开发的机器上发布。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2007/12/02/1912176/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2007/12/02/1912176/" class="post-title-link" itemprop="url">字符串匹配算法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2007-12-02 19:06:00" itemprop="dateCreated datePublished" datetime="2007-12-02T19:06:00+08:00">2007-12-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:34:50" itemprop="dateModified" datetime="2023-10-05T12:34:50+08:00">2023-10-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>基本思想是从源字符串的起始位置起每个字符匹配。如果中间出现失配，则回溯到某个位置再行匹配。</p>
<p>1.最简单的就是回溯到前一次失配串的第二个字符再行匹配，并将目标串的起始位置重置。</p>
<p><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif"><br>int  Index(  const  char  *  src,  const  char  *  des,  int  start)<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc</a><br>kStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/</a><br>ContractedBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>int  lengthSrc  &#x3D;  strlen(src);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>int  lengthDes  &#x3D;  strlen(des);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>int  i  &#x3D;  start,j  &#x3D;  0  ;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>for  (; i  &lt; lengthSrc  &amp;&amp; j  &lt; lengthDes; i  ++  ,j  ++  )<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>if  (src[i]  &#x3D;&#x3D;  des[j])<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>continue  ;  &#x2F;&#x2F;  这个位置匹配成功<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>else<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>&#x2F;&#x2F;  这个位置失配，将i复位到前一次匹配串的起始位置的下一位,目标串重置<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>&#x2F;&#x2F;  这里因为马上要进入下一个循环，并且i++,j++，所以i &#x3D; start,j &#x3D; -1.<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>&#x2F;&#x2F;  标记起始位置的start也要加一。<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>i  &#x3D;  start;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>start  +&#x3D;  1  ;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>j  &#x3D;-  1  ;<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>if  (j  &#x3D;&#x3D;  lengthDes)<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>return  start;<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>else<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>return  -  1  ;<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc</a><br>kEnd.gif) }</p>
<p>2.使用KMP算法。KMP算法的思想只是将刚才算法优化了一下。在好的情况下，可以不用从上一个匹配串的start+1位置重新匹配。而是可以从某个可能的位置重新<br>匹配。</p>
<p>但是这样要先消耗一个n的时间来得到目标串的每一个位置失配后将从哪个位置开始重新匹配。当然这样好处还有源串的匹配位置不用改变。</p>
<p><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif"><br>int  *  Get_Next(  const  char  *  a)<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc</a><br>kStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/</a><br>ContractedBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>int  length  &#x3D;  strlen(a);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>int  *  next  &#x3D;  new  int  [length];<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>next[  0  ]  &#x3D;  -  1  ;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>&#x2F;&#x2F;  该算法中约定第一个位置的重匹配要从目标串起始位置的下标减一开始。<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>&#x2F;&#x2F;  当然这只是为了后面的匹配函数好些罢了。<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>for  (  int  i  &#x3D;  0  ,j  &#x3D;  -  1  ; i  &lt; length;)<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>if  (j  &#x3D;&#x3D;  -  1  ||  a[j]  &#x3D;&#x3D;  a[i])<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>j  ++  ;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>i  ++  ;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>if  (a[i]  !&#x3D;  a[j])<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>next[i]  &#x3D;  j;<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>else<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {  &#x2F;&#x2F;<br>如果目标串出现“aaaab”这样的情况，可以使得后面的’a’重用前面a的匹配位置。<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>&#x2F;&#x2F;  类似于动态规划的思想。<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>next[i]  &#x3D;  next[j];<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>else<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>j  &#x3D;  next[j];<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>return  next;  &#x2F;&#x2F;  这里并没有返回数组的个数..<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc</a><br>kEnd.gif) }</p>
<p>真正的功能函数：</p>
<p><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif"><br>int  IndexKMP(  const  char  *  src,  const  char  *  des,  int  start)<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc</a><br>kStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/</a><br>ContractedBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>int  length1  &#x3D;  strlen(src);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>int  length2  &#x3D;  strlen(des);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>int  *  next  &#x3D;  Get_Next(des);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>int  i  &#x3D;  start,j  &#x3D;  0  ;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>while  (i  &lt; length1  &amp;&amp; j  &lt; length2)<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>if  (j  &#x3D;&#x3D;  -  1  ||  src[i]  &#x3D;&#x3D;  des[j])<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>i  ++  ;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>j  ++  ;<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>else<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>j  &#x3D;  next[j];  &#x2F;&#x2F;  只不过这里有所改变。<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>if  (j  &#x3D;&#x3D;  length2)<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>return  i  -  length2;<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>else<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>return  -  1  ;<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc</a><br>kEnd.gif) }</p>
<p>解决了一下内存泄露的问题，同时找到一个数组越界的bug。在Get_Next()中next数组的下标有可能超过其长度。改进后的算法如下：</p>
<p><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif"><br>int  *  GetNext(  const  char  *  a,  int  *  next)<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc</a><br>kStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/</a><br>ContractedBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>int  length  &#x3D;  strlen(a);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>next[  0  ]  &#x3D;  -  1  ;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>for  (  int  i  &#x3D;  0  ,j  &#x3D;  -  1  ; i  &lt; length;)<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>if  (j  &#x3D;&#x3D;  -  1  ||  a[j]  &#x3D;&#x3D;  a[i])<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>j  ++  ;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>i  ++  ;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>if  (a[i]  !&#x3D;  a[j])<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>next[i]  &#x3D;  j;<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>else<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>next[i]  &#x3D;  next[j];<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>else<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>j  &#x3D;  next[j];<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }</p>
<p>本着谁生成谁释放的原则，在IndexKMP中生成next数组：注意这里的数组长度是length2+1,很奇怪的是，当初值为length2时，本该越界处是在G<br>etNext()中。但是那里并没有抛出异常。倒是在delete中抛出来Heap被破坏的异常。所以如果你写的程序抛出Heap Corruption<br>Exception，那么很有可能你的数组已经在前面越界。</p>
<p><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif"><br>int  IndexKMP(  const  char  *  src,  const  char  *  des,  int  start)<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc</a><br>kStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/</a><br>ContractedBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>int  length1  &#x3D;  strlen(src);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>int  length2  &#x3D;  strlen(des);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>int  *  next  &#x3D;  new  int  [length2  +  1  ];<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>GetNext(des,next);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>int  i  &#x3D;  start,j  &#x3D;  0  ;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>while  (i  &lt; length1  &amp;&amp; j  &lt; length2)<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>if  (j  &#x3D;&#x3D;  -  1  ||  src[i]  &#x3D;&#x3D;  des[j])<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>i  ++  ;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>j  ++  ;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>else<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>j  &#x3D;  next[j];<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>delete [] next;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>if  (j  &#x3D;&#x3D;  length2)<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>return  i  -  length2;<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>else<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>return  -  1  ;<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc</a><br>kEnd.gif) }</p>
<p>继续优化代码：在开始处判断目标串和源串的长度</p>
<p><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif"><br>int  IndexKMP(  const  char  *  src,  const  char  *  des,  int  start)<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc</a><br>kStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/</a><br>ContractedBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>int  length1  &#x3D;  strlen(src);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>int  length2  &#x3D;  strlen(des);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>if  (length2  &gt; length1)<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>return  -  1  ;<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>int  *  next  &#x3D;  new  int  [length2  +  1  ];<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>GetNext(des,next);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>int  i  &#x3D;  start,j  &#x3D;  0  ;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>while  (i  &lt; length1  &amp;&amp; j  &lt; length2)<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>if  (j  &#x3D;&#x3D;  -  1  ||  src[i]  &#x3D;&#x3D;  des[j])<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>i  ++  ;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>j  ++  ;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>else<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>j  &#x3D;  next[j];<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>delete [] next;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>if  (j  &#x3D;&#x3D;  length2)<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>return  i  -  length2;<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>else<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockStart.gif) ![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicato">http://images.csdn.net/syntaxhighlighting/OutliningIndicato</a><br>rs&#x2F;ContractedSubBlock.gif) …  {<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>return  -  1  ;<br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubB</a><br>lockEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif"><br>![](<a target="_blank" rel="noopener" href="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc">http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBloc</a><br>kEnd.gif) }<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2007/11/30/1908375/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2007/11/30/1908375/" class="post-title-link" itemprop="url">Dos "For"</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2007-11-30 09:25:00" itemprop="dateCreated datePublished" datetime="2007-11-30T09:25:00+08:00">2007-11-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:34:50" itemprop="dateModified" datetime="2023-10-05T12:34:50+08:00">2023-10-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>for &#x2F;L %f in (1,1,5) do @echo %f</p>
<p>这意味着输出是 1  2  3  4  5,  (1,2,5) 从1开始到5结束，2为步长。如果这个for要执行多条命令则用|分开</p>
<p>@echo %f | @echo %f. %f只是一个变量。如果在cmd窗口下写这样没有错误，但是如果要运行在bat脚本中，就要将这个%f写为 %%f<br>才正确。</p>
<p>不明白的命令使用  [command] &#x2F;?  或者使用 help [command]</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2007/11/30/1908362/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2007/11/30/1908362/" class="post-title-link" itemprop="url">Dos Script(3)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2007-11-30 09:20:00" itemprop="dateCreated datePublished" datetime="2007-11-30T09:20:00+08:00">2007-11-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:34:50" itemprop="dateModified" datetime="2023-10-05T12:34:50+08:00">2023-10-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>第一课：DOS的重新学习!<br>ms-DOS（Disk Operating System）磁盘操作系统<br>DOS的核心启动程序有Boot系统引导程序、IO.SYS、MSDOS.SYS和COMMAND.COM。它们是构成DOS系统最基础的几个部分，有了它们系统就可<br>以启动。<br>-——————————————————<br>文件大小: byte(字节) kb md gb tb (注中文有全角与半角.)<br>BIT 0&#x2F;1；8*BIT&#x3D;1BYTE&#x3D;字节；1汉字&#x3D;2B；1KB&#x3D;1024B；1MB&#x3D;1024KB；1GB&#x3D;1024MB；1TB&#x3D;1024GB<br>-——————————————————<br>dos下的文件分类:<br>EXE                可执行程序文件<br>COM              可执行命令文件<br>BAT               可执行批处理文件<br>DAT                   数据文件<br>TXT                   文本文件<br>BAK                   备份文件<br>SYS                   系统文件</p>
<p>为什么要学DOS？<br>（1）更深入了解计算机底层。<br>（2）Dos是电脑高手的必经之路（BIOS升级；多系统的安装;修复硬盘;cmos密码的清除）。<br>（3）windows是从DOS发展而来的，有很多问题还是要在DOS下解决。为解决这些问题，学点DOS知识还是必要的。<br>（4）编程的需要。</p>
<p>-——————————————————<br>什么是内部命令什么是外部命令。<br>-——————————————————<br>通配符：*与？<br>*——可代表文件名(扩展名)中合法的多个任意字符.<br>?——可代表文件名(扩展名)中合法的一个任意字符.<br>-——————————————————</p>
<p>1，外部命令的.com与.exe与.bat的区别？<br>.com&#x2F;.exe&#x2F;.bat都是微软操作系统的可执行文件。<br>.com文件的数据区和代码区有限制，不能超过一个区，最大不能超过64kb,所以com都比较小而且执行速度快，在内存中完全是代码的映象。就是只含一个代码段的指<br>令程序。文件只能作一些简单的DOS指令操作<br>.EXE文件可包含多个程序段,如:代码段,数据段,堆栈段等 ，EXE文件大小没有限制，文件应用广泛,可作为各类程序的程序文件<br>-——————————————————<br>.BAT首先批处理文件是一个文本文件，在WINDOWS时代为.CMD  这个文件的每一行都是一条DOS命令（大部分时候就好象我们在DOS提示符下执行的命令行<br>一样），具有可执行性，所以也可称为可执行文件。BAT文件由command.com<br>解释分析，根据其内容按优先级顺序调用2.3种可执行程序，分析一行，执行一行，文件本身不载入内存<br>-——————————————————<br>com的执行效率比exe 高。<br>当有三个同名的文件时即a.bat,a.com,a.exe<br>当打入c:&#x2F;a时<br>执行顺序为a.bat,a.com,a.exe</p>
<p>Dos命令：<br>一，目录操作命令：<br>概念：什么是目录：目录&#x3D;文件夹<br>1，dir命令 ：显示一个目录中的文件和子目录。<br>&#x2F;ad显示当前目录下的子目录列表；<br>&#x2F;ah显示当前目录下的具有隐藏属性的文件和目录<br>&#x2F;as显示当前目录下具有系统属性的文件。<br>&#x2F;p ：分屏显示查找结果；<br>&#x2F;w：以宽屏方式显示查找结果<br>&#x2F;s 查找当前目录和子目录下的所有文件和文件夹；<br><em>Dir命令小技巧：<br>1，DIR |MORE  逐行显示DIR结果列表；<br>2，DIR &gt;TT.TXT 将dir命令内容打印到tt.txt文件中。<br>2，CD命令：更改当前目录<br>3，MD命令：建立目录<br>4，RD命令：删除目录（欲删除的目录必须是空目录）<br>5，TREE：显示一个目录中的文件和子目录。<br>6，REN：目录&#x2F;文件改名命令<br>7，</em>SUBST将路径跟一个驱动器号关联。</p>
<p>二，系统命令：<br>1,time ：显示当前时间。<br>2,date：日期<br>3,ver：操作系统版本<br>4,CLS：清屏<br>5,EXIT     退出 CMD.EXE 程序(命令解释程序)。<br>6,HELP：帮助<br>7,prompt 更改dos系统提示符命令</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2007/11/30/1908357/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2007/11/30/1908357/" class="post-title-link" itemprop="url">Dos Script(2)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2007-11-30 09:18:00" itemprop="dateCreated datePublished" datetime="2007-11-30T09:18:00+08:00">2007-11-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:34:50" itemprop="dateModified" datetime="2023-10-05T12:34:50+08:00">2023-10-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>三，磁盘操作命令：<br>1，VOL：显示磁盘卷标和序列号。<br>2，LABEL：创建、更改或删除磁盘的卷标。<br>3.FDISK：磁盘分区命令。 ****<br>4.FORMAT c: &#x2F;q&#x2F;s&#x2F;y：格式化磁盘命令****<br>5.D：&#x2F;C： 改变当前磁盘。<br>6.GHOST****</p>
<p>四，文件操作命令：<br>1，COPY命令：将至少一个文件复制到另一个位置。<br>COPY命令技巧：<br>1，文件合并 d:＼Copy 002.jpg&#x2F;b + 001.txt&#x2F;a 003.jpg<br>2，建立文本文件，并编辑文本文件内容， 以ctrl+z保存。COPY COn AA.TXT<br>3, 删除文件使其不可恢复：copy nul需要删除的文件名<br>4,文本文件的显示 copy*.txt con<br>2，type：显示文本文件内容<br>3，ATTRIB   显示或更改文件属性<br>盘符和路径指出ATTRIB.EXE位置.<br>参数+S&#x2F;-S:对指定文件设置或取消系统属性.<br>参数+H&#x2F;-H:对指定文件设置或取消隐含属性.<br>参数+R&#x2F;-R:对指定文件设置或取消只读属性.<br>参数+A&#x2F;-A:对指定文件设置或取消归档属性.<br>4，DEL：删除文件命令<br>5，FC :比较两个或两套文件，并显示不同处。<br>6，FIND:在文件中搜索文字字符串。<br>7，MOVE:将文件从一个目录移到另一个目录。<br>8,EDIT：文本编辑器<br>9，XCOPY 目录拷贝命令：<br>参数&#x2F;S:表示拷贝所有文件及其子目录中的文件.不带&#x2F;S时,不拷贝子目录.<br>参数&#x2F;E:必须与&#x2F;S一起使用,表示拷贝所有文件及其子目录中的文件.空目录也予以拷贝,不带此参数时,空目录将不会拷贝.</p>
<p>五，网络操作命令：<br>一。IPCONFIG 察看当前你的IP地址<br>参数：&#x2F;all  列出本地ip的详细信息；<br>&#x2F;release 清除本地Ip信息；<br>&#x2F;renew 从新获得IP地址。<br>二。systeminfo。</p>
<p>三。PING ：发送数据包到指定IP地址。<br>ping 192.168.182.128<br>Reply from 192.168.182.128: bytes&#x3D;32 time&#x3D;15ms TTL&#x3D;128<br>Reply from 192.168.182.128: bytes&#x3D;32 time&lt;1ms TTL&#x3D;128<br>Reply from 192.168.182.128: bytes&#x3D;32 time&lt;1ms TTL&#x3D;128<br>Reply from 192.168.182.128: bytes&#x3D;32 time&lt;1ms TTL&#x3D;128</p>
<p>Ping statistics for 192.168.182.128:<br>Packets: Sent &#x3D; 4, Received &#x3D; 4, Lost &#x3D; 0 (0% loss),<br>Approximate round trip times in milli-seconds:<br>Minimum &#x3D; 0ms, Maximum &#x3D; 15ms, Average &#x3D; 3ms<br>-—————————-</p>
<p>TTL&#x3D;127 或128(Windows 9x)<br>TTL&#x3D;240或241(Linux)<br>TTL&#x3D;252(other)<br>ttl可通过对方电脑设置和网络状况而改变<br>ping 192.168.182.128 -t -l 数据包大小</p>
<p>四。NET :功能强大的命令<br>net sue <a href="file://ip/ipc$"> &#x2F;&#x2F;ip&#x2F;ipc$ </a> “” administrator  建立ipc$连接<br>net user netcicala 12345 &#x2F;add 建立netcicala用户密码为12345<br>net LOCALGROUP administrators netcicala &#x2F;add  将netcicala增加到administrators组里面。<br>net user netcicala 察看netcicala的用户的信息<br>net share 察看本地共享列表<br>net start 显示当前主机运行的服务<br>net start xxx(服务名)：用来启动服务。<br>net stop xxx(服务名)：停止服务xxx<br>net view IP地址：察看目标计算机上的共享资源<br>net config server &#x2F;hidden:yes   让网络邻居中看不到你<br>net config server &#x2F;hidden:no 则为开启  让网络邻居中看得到你</p>
<p>五。netstat:显示协议统计信息和当前 TCP&#x2F;IP 网络连接。<br>-a            显示所有连接和监听端口。<br>-b            显示包含于创建每个连接或监听端口的<br>可执行组件。在某些情况下已知可执行组件<br>拥有多个独立组件，并且在这些情况下<br>包含于创建连接或监听端口的组件序列<br>被显示。这种情况下，可执行组件名<br>在底部的 [] 中，顶部是其调用的组件，<br>等等，直到 TCP&#x2F;IP 部分。注意此选项<br>可能需要很长时间，如果没有足够权限可能失败。<br>-e            显示以太网统计信息。此选项可以与 -s选项组合使用。<br>-n            以数字形式显示地址和端口号。<br>-o            显示与每个连接相关的所属进程 ID。<br>-p proto      显示 proto 指定的协议的连接；proto 可以是<br>下列协议之一: TCP、UDP、TCPv6 或 UDPv6。<br>如果与 -s 选项一起使用以显示按协议统计信息，proto 可以是下列协议之一:<br>IP、IPv6、ICMP、ICMPv6、TCP、TCPv6、UDP 或 UDPv6。<br>-r            显示路由表。<br>-s            显示按协议统计信息。默认地，显示 IP、<br>IPv6、ICMP、ICMPv6、TCP、TCPv6、UDP 和 UDPv6 的统计信息；<br>-p 选项用于指定默认情况的子集。<br>-v            与 -b 选项一起使用时将显示包含于<br>为所有可执行组件创建连接或监听端口的组件。<br>interval      重新显示选定统计信息，每次显示之间<br>暂停时间间隔(以秒计)。按 CTRL+C 停止重新<br>显示统计信息。如果省略，netstat 显示当前<br>配置信息(只显示一次)<br>六，系统调试命令：<br>Debug清除CMOS</p>
<p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>WINXP时代的DOS内部命令<br>ASSOC    显示或修改文件扩展名关联。<br>AT       计划在计算机上运行的命令和程序。<br>。<br>BREAK    设置或清除扩展式 CTRL+C 检查。<br>CACLS    显示或修改文件的访问控制列表(ACLs)。<br>CALL     从另一个批处理程序调用这一个。<br>CD       显示当前目录的名称或将其更改。<br>CHCP     显示或设置活动代码页数。<br>CHDIR    显示当前目录的名称或将其更改。<br>CHKDSK   检查磁盘并显示状态报告。<br>CHKNTFS  显示或修改启动时间磁盘检查。<br>CLS      清除屏幕。<br>CMD      打开另一个 Windows 命令解释程序窗口。<br>COLOR    设置默认控制台前景和背景颜色。<br>COMP     比较两个或两套文件的内容。<br>COMPACT  显示或更改 NTFS 分区上文件的压缩。<br>CONVERT  将 FAT 卷转换成 NTFS。您不能转换<br>当前驱动器。<br>COPY     将至少一个文件复制到另一个位置。<br>DATE     显示或设置日期。<br>DEL      删除至少一个文件。<br>DIR      显示一个目录中的文件和子目录。<br>DISKCOMP 比较两个软盘的内容。<br>DISKCOPY 将一个软盘的内容复制到另一个软盘。<br>DOSKEY   编辑命令行、调用 Windows 命令并创建宏。<br>ECHO     显示消息，或将命令回显打开或关上。<br>ENDLOCAL 结束批文件中环境更改的本地化。<br>ERASE    删除至少一个文件。<br>EXIT     退出 CMD.EXE 程序(命令解释程序)。<br>FC       比较两个或两套文件，并显示<br>不同处。<br>FIND     在文件中搜索文字字符串。<br>FINDSTR  在文件中搜索字符串。<br>FOR      为一套文件中的每个文件运行一个指定的命令<br>FORMAT   格式化磁盘，以便跟 Windows 使用。<br>FTYPE    显示或修改用于文件扩展名关联的文件类型。<br>GOTO     将 Windows 命令解释程序指向批处理程序<br>中某个标明的行。<br>GRAFTABL 启用 Windows 来以图像模式显示<br>扩展字符集。<br>HELP     提供 Windows 命令的帮助信息。<br>IF       执行批处理程序中的条件性处理。<br>LABEL    创建、更改或删除磁盘的卷标。<br>MD       创建目录。<br>MKDIR    创建目录。<br>MODE     配置系统设备。<br>MORE     一次显示一个结果屏幕。<br>MOVE     将文件从一个目录移到另一个目录。<br>PATH     显示或设置可执行文件的搜索路径。<br>PAUSE    暂停批文件的处理并显示消息。<br>POPD     还原 PUSHD 保存的当前目录的上一个值。<br>PRINT    打印文本文件。<br>PROMPT   更改 Windows 命令提示符。<br>PUSHD    保存当前目录，然后对其进行更改。<br>RD       删除目录。<br>RECOVER  从有问题的磁盘恢复可读信息。<br>REM      记录批文件或 CONFIG.SYS 中的注释。<br>REN      重命名文件。<br>RENAME   重命名文件。<br>REPLACE  替换文件。<br>RMDIR    删除目录。<br>SET      显示、设置或删除 Windows 环境变量。<br>SETLOCAL 开始批文件中环境更改的本地化。<br>SHIFT    更换批文件中可替换参数的位置。<br>SORT     对输入进行分类。<br>START    启动另一个窗口来运行指定的程序或命令。<br>SUBST    将路径跟一个驱动器号关联。<br>TIME     显示或设置系统时间。<br>TITLE    设置 CMD.EXE 会话的窗口标题。<br>TREE     以图形模式显示驱动器或路径的目录结构。<br>TYPE     显示文本文件的内容。<br>VER      显示 Windows 版本。<br>VERIFY   告诉 Windows 是否验证文件是否已正确<br>写入磁盘。<br>VOL      显示磁盘卷标和序列号。<br>XCOPY    复制文件和目录树。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2007/11/30/1908352/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2007/11/30/1908352/" class="post-title-link" itemprop="url">Dos Script(1)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2007-11-30 09:16:00" itemprop="dateCreated datePublished" datetime="2007-11-30T09:16:00+08:00">2007-11-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:34:50" itemprop="dateModified" datetime="2023-10-05T12:34:50+08:00">2023-10-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="什么是脚本？脚本能做些什么？如果你想在c-目录下同时建立10个文件夹或者文件该怎么做？如果你想在c-目录下同时删除10个文件夹或者文件该怎么做？如果你想计算123-4…-100你怎么算？如果你不想用regedit，然后去从眼花缭乱的注册表项中去更改某些设置的时候，你能怎么做？你想批量修改注册表里的项目怎么办？1-脚本总概述DOS脚本介绍–〉解释器COMMAND-EXE-CMD-EXEREG脚本介绍–〉解释器REGEDIT-EXEINF脚本介绍–-rundll32-exe-setupapi-InstallHinfSection-DefaultInstall-132-1VBS脚本介绍–〉解释器WSCRIPT-EXE-CSCRIPT-EXEDOS脚本介绍：DOS脚本-批处理文件。扩展名：-bat-和-cmd2-DOS脚本—-常用的命令pause-rem"><a href="#什么是脚本？脚本能做些什么？如果你想在c-目录下同时建立10个文件夹或者文件该怎么做？如果你想在c-目录下同时删除10个文件夹或者文件该怎么做？如果你想计算123-4…-100你怎么算？如果你不想用regedit，然后去从眼花缭乱的注册表项中去更改某些设置的时候，你能怎么做？你想批量修改注册表里的项目怎么办？1-脚本总概述DOS脚本介绍–〉解释器COMMAND-EXE-CMD-EXEREG脚本介绍–〉解释器REGEDIT-EXEINF脚本介绍–-rundll32-exe-setupapi-InstallHinfSection-DefaultInstall-132-1VBS脚本介绍–〉解释器WSCRIPT-EXE-CSCRIPT-EXEDOS脚本介绍：DOS脚本-批处理文件。扩展名：-bat-和-cmd2-DOS脚本—-常用的命令pause-rem" class="headerlink" title="什么是脚本？脚本能做些什么？如果你想在c:&#x2F;目录下同时建立10个文件夹或者文件该怎么做？如果你想在c:&#x2F;目录下同时删除10个文件夹或者文件该怎么做？如果你想计算123*4….*100你怎么算？如果你不想用regedit，然后去从眼花缭乱的注册表项中去更改某些设置的时候，你能怎么做？你想批量修改注册表里的项目怎么办？1,脚本总概述DOS脚本介绍–〉解释器COMMAND.EXE&#x2F;CMD.EXEREG脚本介绍–〉解释器REGEDIT.EXEINF脚本介绍–&gt;rundll32.exe setupapi,InstallHinfSection DefaultInstall 132 %1VBS脚本介绍–〉解释器WSCRIPT.EXE&#x2F;CSCRIPT.EXEDOS脚本介绍：DOS脚本&#x3D;批处理文件。扩展名：.bat 和.cmd2,DOS脚本—-常用的命令pause,@,rem,::,%,|,||,^,&amp;,&amp;&amp;,  "></a>什么是脚本？<br>脚本能做些什么？<br>如果你想在c:&#x2F;目录下同时建立10个文件夹或者文件该怎么做？<br>如果你想在c:&#x2F;目录下同时删除10个文件夹或者文件该怎么做？<br>如果你想计算1<em>2</em>3*4….*100你怎么算？<br>如果你不想用regedit，然后去从眼花缭乱的注册表项中去更改某些设置的时候，你能怎么做？<br>你想批量修改注册表里的项目怎么办？<br>1,脚本总概述<br>DOS脚本介绍–〉解释器COMMAND.EXE&#x2F;CMD.EXE<br>REG脚本介绍–〉解释器REGEDIT.EXE<br>INF脚本介绍–&gt;rundll32.exe setupapi,InstallHinfSection DefaultInstall 132 %1<br>VBS脚本介绍–〉解释器WSCRIPT.EXE&#x2F;CSCRIPT.EXE<br><br>DOS脚本介绍：<br>DOS脚本&#x3D;批处理文件。<br>扩展名：.bat 和.cmd<br>2,DOS脚本—-常用的命令pause,@,rem,::,%,|,||,^,&amp;,&amp;&amp;,  </h1><h1 id="pause-让程序暂停运行，并在屏幕上提示“请按任意键继续-”"><a href="#pause-让程序暂停运行，并在屏幕上提示“请按任意键继续-”" class="headerlink" title="pause:让程序暂停运行，并在屏幕上提示“请按任意键继续. . .”  "></a>pause:<br>让程序暂停运行，并在屏幕上提示“请按任意键继续. . .”  </h1><h1 id="前缀字符-表示执行时本行在cmd里面不显示-可以使用-echo-off关闭显示-pause"><a href="#前缀字符-表示执行时本行在cmd里面不显示-可以使用-echo-off关闭显示-pause" class="headerlink" title="@ 前缀字符.表示执行时本行在cmd里面不显示, 可以使用 echo off关闭显示@pause  "></a>@ 前缀字符.表示执行时本行在cmd里面不显示, 可以使用 echo off关闭显示<br>@pause  </h1><h1 id="实例：-cls-ECHO-ECHO-网蝉-的系统垃圾自动清理程序-ECHO-pause-del-f-s-q-“-userprofile-Local-Settings-Temporary-Internet-Files-“-del-f-s-q-“-userprofile-Local-Settings-temp-“-del-f-s-q-“-userprofile-recent-“-del-f-s-q-“-windir-temp-“-del-f-s-q-“-SystemDrive-tmp”-pause"><a href="#实例：-cls-ECHO-ECHO-网蝉-的系统垃圾自动清理程序-ECHO-pause-del-f-s-q-“-userprofile-Local-Settings-Temporary-Internet-Files-“-del-f-s-q-“-userprofile-Local-Settings-temp-“-del-f-s-q-“-userprofile-recent-“-del-f-s-q-“-windir-temp-“-del-f-s-q-“-SystemDrive-tmp”-pause" class="headerlink" title="实例：@cls@ECHO ************************************@ECHO ****  网蝉   的系统垃圾自动清理程序******@ECHO ************************************@pause@del &#x2F;f &#x2F;s &#x2F;q “%userprofile%&#x2F;Local Settings&#x2F;Temporary Internet Files&#x2F;.“@del &#x2F;f &#x2F;s &#x2F;q “%userprofile%&#x2F;Local Settings&#x2F;temp&#x2F;.“@del &#x2F;f &#x2F;s &#x2F;q “%userprofile%&#x2F;recent&#x2F;.“@del &#x2F;f &#x2F;s &#x2F;q “%windir%&#x2F;temp&#x2F;.“@del &#x2F;f &#x2F;s &#x2F;q “%SystemDrive%&#x2F;*.tmp”@pause  "></a>实例：<br>@cls<br>@ECHO ************************************<br>@ECHO **** <a target="_blank" rel="noopener" href="http://www.netcicala.com/"> 网蝉  </a> 的系统垃圾自动清理程序******<br>@ECHO ************************************<br>@pause<br>@del &#x2F;f &#x2F;s &#x2F;q “%userprofile%&#x2F;Local Settings&#x2F;Temporary Internet Files&#x2F;<em>.</em>“<br>@del &#x2F;f &#x2F;s &#x2F;q “%userprofile%&#x2F;Local Settings&#x2F;temp&#x2F;<em>.</em>“<br>@del &#x2F;f &#x2F;s &#x2F;q “%userprofile%&#x2F;recent&#x2F;<em>.</em>“<br>@del &#x2F;f &#x2F;s &#x2F;q “%windir%&#x2F;temp&#x2F;<em>.</em>“<br>@del &#x2F;f &#x2F;s &#x2F;q “%SystemDrive%&#x2F;*.tmp”<br>@pause<br><br>  </h1><h1 id="rem：注释-，命令执行时不显示，用途：用来标记程序注释。"><a href="#rem：注释-，命令执行时不显示，用途：用来标记程序注释。" class="headerlink" title="rem：注释 ，命令执行时不显示，用途：用来标记程序注释。  "></a>rem：注释 ，命令执行时不显示，用途：用来标记程序注释。  </h1><h1 id="注释，命令执行时不显示，用途：用来标记程序注释。"><a href="#注释，命令执行时不显示，用途：用来标记程序注释。" class="headerlink" title="::注释，命令执行时不显示，用途：用来标记程序注释。  "></a>::注释，命令执行时不显示，用途：用来标记程序注释。  </h1><h1 id="：从命令行传递进入批处理里面的参数。-0代表程序本身例如：copy-1-1-2del-1ECHO-del-0-bb-batcall-bb-batdel-0"><a href="#：从命令行传递进入批处理里面的参数。-0代表程序本身例如：copy-1-1-2del-1ECHO-del-0-bb-batcall-bb-batdel-0" class="headerlink" title="%：从命令行传递进入批处理里面的参数。%0代表程序本身例如：copy %1 1&#x2F;%2del %1ECHO del %%0 &gt;bb.batcall bb.batdel %0  "></a>%：从命令行传递进入批处理里面的参数。<br>%0代表程序本身<br>例如：<br>copy %1 1&#x2F;%2<br>del %1<br>ECHO del %%0 &gt;bb.bat<br>call bb.bat<br>del %0  </h1><h1 id="管道符，例如：netstat-n-find-“3389”-这个将要列出所有连接3389的用户的ip-dir-s-more-分屏显示dir-s的结果echo-y-copy-a-txt-b-txt-不用提示，直接将a-txt复制到b-txt"><a href="#管道符，例如：netstat-n-find-“3389”-这个将要列出所有连接3389的用户的ip-dir-s-more-分屏显示dir-s的结果echo-y-copy-a-txt-b-txt-不用提示，直接将a-txt复制到b-txt" class="headerlink" title="| 管道符，例如：netstat -n | find “3389”  这个将要列出所有连接3389的用户的ip.dir&#x2F;s |more  分屏显示dir&#x2F;s的结果echo y|copy a.txt b.txt 不用提示，直接将a.txt复制到b.txt  "></a>| 管道符，例如：netstat -n | find “3389”  这个将要列出所有连接3389的用户的ip.<br>dir&#x2F;s |more  分屏显示dir&#x2F;s的结果<br>echo y|copy a.txt b.txt 不用提示，直接将a.txt复制到b.txt  </h1><h1 id="用来显示出特殊标记的标记ECHO-AA-AA-TXTECHO-AA-AA-TXT"><a href="#用来显示出特殊标记的标记ECHO-AA-AA-TXTECHO-AA-AA-TXT" class="headerlink" title="^:用来显示出特殊标记的标记ECHO AA&gt;&gt;AA.TXTECHO AA^&gt;&gt;AA.TXT  "></a>^:用来显示出特殊标记的标记<br>ECHO AA&gt;&gt;AA.TXT<br>ECHO AA^&gt;&gt;AA.TXT  </h1><h1 id="可以将n个命令连接在一起例如：copy-a-txt-b-txt-y-del-a-txt-此命令等同于move-a-txt-b-txt当程序错误的时候将会继续执行，例如：上例如过copy命令失败，-则还将会继续执行del-a-txt命令"><a href="#可以将n个命令连接在一起例如：copy-a-txt-b-txt-y-del-a-txt-此命令等同于move-a-txt-b-txt当程序错误的时候将会继续执行，例如：上例如过copy命令失败，-则还将会继续执行del-a-txt命令" class="headerlink" title="&amp;:可以将n个命令连接在一起例如：copy a.txt b.txt &#x2F;y &amp; del a.txt  此命令等同于move a.txt b.txt当程序错误的时候将会继续执行，例如：上例如过copy命令失败， 则还将会继续执行del a.txt命令  "></a>&amp;:可以将n个命令连接在一起<br>例如：copy a.txt b.txt &#x2F;y &amp; del a.txt  此命令等同于move a.txt b.txt<br>当程序错误的时候将会继续执行，例如：上例如过copy命令失败， 则还将会继续执行del a.txt命令  </h1><h1 id="：和-的差别在于，遇到程序错误，将不会执行后面的命令。"><a href="#：和-的差别在于，遇到程序错误，将不会执行后面的命令。" class="headerlink" title="&amp;&amp;：和&amp;的差别在于，遇到程序错误，将不会执行后面的命令。  "></a>&amp;&amp;：和&amp;的差别在于，遇到程序错误，将不会执行后面的命令。  </h1><h1 id="Usage：第一条命令-第二条命令-第三条命令…-当碰到执行正确的命令后将不执行后面的命令，如果没有出现正确的命令则一直执行完所有命令；"><a href="#Usage：第一条命令-第二条命令-第三条命令…-当碰到执行正确的命令后将不执行后面的命令，如果没有出现正确的命令则一直执行完所有命令；" class="headerlink" title="|| Usage：第一条命令 || 第二条命令 [|| 第三条命令…]当碰到执行正确的命令后将不执行后面的命令，如果没有出现正确的命令则一直执行完所有命令；  "></a>|| Usage：第一条命令 || 第二条命令 [|| 第三条命令…]<br>当碰到执行正确的命令后将不执行后面的命令，如果没有出现正确的命令则一直执行完所有命令；  </h1><p>3,DOS脚本—-常用的命令echo,<br> 作为控制批处理命令在执行时是否显示命令行自身的开关<br>格式：ECHO [ON|OFF]<br>如果想关闭“ECHO OFF”命令行自身的显示，则需要在该命令行前加上“@”。<br> 显示当前ECHO设置状态<br>格式：ECHO<br>输出提示信息<br>格式：ECHO信息内容<br>上述是ECHO命令常见的三种用法，也是大家熟悉和会用的，但作为DOS命令淘金者你还应该知道下面的<br>技巧：<br>关闭DOS命令提示符<br>在DOS提示符状态下键入ECHO OFF，能够关闭DOS提示符的显示使屏幕只留下光标，直至键入ECHO<br>ON，提示符才会重新出现。<br> 答复命令中的提问<br>格式：ECHO答复语|命令文件名<br>上述格式可以用于简化一些需要人机对话的命令（如：CHKDSK／F；FORMAT Drive:；del<br><em>.<em>）的操作，它是通过DOS管道命令把<br>ECHO命令输出的预置答复语作为人机对话命令的输入。下面的例子就相当于在调用的命令出现人机对话<br>时输入“Y”回车：<br>C:〉ECHO Y|CHKDSK&#x2F;F<br>C:〉ECHO Y|DEL A :</em>.</em><br> 建立新文件或增加文件内容<br>格式：ECHO 文件内容＞文件名<br>ECHO 文件内容＞＞文件名<br>例如：C:〉ECHO @ECHO OFF〉AUTOEXEC.BAT建立自动批处理文件<br>C:〉ECHO C:&#x2F;CPAV&#x2F;BOOTSAFE〉〉AUTOEXEC.BAT向自动批处理文件中追加内容<br>C:TYPE AUTOEXEC.BAT显示该自动批处理文件<br>@ECHO OFF<br>C:&#x2F;CPAV&#x2F;BOOTSAFE<br>使喇叭鸣响<br>C:〉ECHO ^G<br>“^G”是用Ctrl＋G或Alt＋007输入，输入多个^G可以产生多声鸣响。使用方法是直接将其加入批处理<br>文件中或做成批处理文件调用。  </p>
<p>例如：用批处理写注册表<br>@echo off<br>echo <a target="_blank" rel="noopener" href="http://www.netcicala.com/"> Windows  </a> Registry Editor Version<br>5.00&gt;ChangeTTL.reg<br>echo.&gt;&gt;ChangeTTL.reg<br>echo [HKEY_CURRENT_USER&#x2F;Software&#x2F;aaaa]&gt;&gt;ChangeTTL.reg<br>echo “LastKey”&#x3D;”我的 <a target="_blank" rel="noopener" href="http://www.netcicala.com/"> 电脑  </a> &#x2F;%1”&gt;&gt;ChangeTTL.reg<br>REGEDIT &#x2F;S&#x2F;C ChangeTTL.reg<br>pause<br>start regedit.exe<br>del ChangeTTL.reg  </p>
<p>开启XP终端服务远程登录批处理  </p>
<p>@echo REGEDIT4&gt;C:&#x2F;est.reg<br>@echo. &gt;&gt;C:&#x2F;est.reg<br>@echo [HKEY_LOCAL_MACHINE&#x2F;SYSTEM&#x2F;CurrentControlSet&#x2F;Control&#x2F;Terminal<br>Server]&gt;&gt;C:&#x2F;est.reg<br>@echo “fDenyTSConnections”&#x3D;dword:00000000&gt;&gt;C:&#x2F;est.reg<br>@REGEDIT &#x2F;S&#x2F;C C:&#x2F;est.reg<br>@del &#x2F;y C:&#x2F;est.reg</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2007/11/26/1903345/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2007/11/26/1903345/" class="post-title-link" itemprop="url">C#写XML</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2007-11-26 21:19:00" itemprop="dateCreated datePublished" datetime="2007-11-26T21:19:00+08:00">2007-11-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:34:50" itemprop="dateModified" datetime="2023-10-05T12:34:50+08:00">2023-10-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>下段代码将会生成形如：</p>
<Root>

<p><Node Key = "" Value = ""></Node></p>
<p><Node>….</p>
</Root>

<p>这样的XML文件。下段代码中有很多是自定义的字符串常量。还有使用Hashtable的地方。</p>
<p>public void Save()<br>{<br>FileInfo fi &#x3D; new FileInfo(_fileName);<br>if (!fi.Exists)&#x2F;&#x2F; to do<br>fi.Create();<br>XmlTextWriter xw &#x3D; null;<br>try<br>{<br>XmlDocument xml &#x3D; new XmlDocument();<br>xw &#x3D; new XmlTextWriter(_fileName, Encoding.UTF8);<br>xml.WriteTo(xw);<br>System.Collections.ICollection keys &#x3D; _ht.Keys;<br>xw.WriteStartElement(“Root”);</p>
<p>foreach(string key in keys)<br>{<br>xw.WriteStartElement(“Node”);<br>xw.WriteAttributeString(KEY, key);<br>xw.WriteAttributeString(VALUE, _ht[key] as string);<br>xw.WriteEndElement();<br>}<br>xw.WriteEndElement();<br>xml.Save(xw);<br>}<br>catch (UnauthorizedAccessException)<br>{<br>&#x2F;&#x2F; to do<br>&#x2F;&#x2F;access deny<br>}<br>catch (Exception)<br>{<br>&#x2F;&#x2F;to do<br>}<br>finally<br>{<br>if (null !&#x3D; xw)<br>{<br>xw.Close();<br>}<br>}<br>}  </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2007/11/26/1902952/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2007/11/26/1902952/" class="post-title-link" itemprop="url">C#数字格式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2007-11-26 16:40:00" itemprop="dateCreated datePublished" datetime="2007-11-26T16:40:00+08:00">2007-11-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:34:50" itemprop="dateModified" datetime="2023-10-05T12:34:50+08:00">2023-10-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>using  System;<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif"> class<br>FormattingNumbers<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedBlock.gif"><br><img src="http://www.cnblogs.com/Images/dot.gif"> {<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"> static<br>void  Main()<br>![](<a target="_blank" rel="noopener" href="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gi">http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gi</a><br>f)<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif"><br><img src="http://www.cnblogs.com/Images/dot.gif"> {<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"> decimal<br>theDecNumber  &#x3D;  12345.678m  ;  &#x2F;&#x2F;  the “m” creates a literal of type decimal<br>from a double<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"> &#x2F;&#x2F;  Using<br>the ToString Method<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"> &#x2F;&#x2F;  the<br>number in the format string is the precision specifier<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"><br>Console.WriteLine(  “  No formatting:  “  +  theDecNumber.ToString());<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"><br>Console.WriteLine(  “  Currency formatting:  “  +  theDecNumber.ToString(  “<br>C  “  ));<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"><br>Console.WriteLine(  “  Exponential formatting:  “  +  theDecNumber.ToString(<br>“  E  “  ));<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"><br>Console.WriteLine(  “  Fixed-point formatting:  “  +  theDecNumber.ToString(<br>“  F2  “  ));<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"><br>Console.WriteLine(  “  General formatting:  “  +  theDecNumber.ToString(  “<br>G  “  ));<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"><br>Console.WriteLine(  “  Number formatting to 2 decimal places:  “  +<br>theDecNumber.ToString(  “  N2  “  ));<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"><br>Console.WriteLine(  “  Number formatting to 3 decimal places:  “  +<br>theDecNumber.ToString(  “  N3  “  ));<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"><br>Console.WriteLine(  “  Number formatting to 4 decimal places:  “  +<br>theDecNumber.ToString(  “  N4  “  ));<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"><br>Console.WriteLine(  “  Percent formatting:  “  +  theDecNumber.ToString(  “<br>P0  “  ));<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"> int<br>theIntNumber  &#x3D;  123456  ;<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"><br>Console.WriteLine(  “  Hexidecimal formatting (for integers): {0} &#x3D; {1}  “  ,<br>theIntNumber, theIntNumber.ToString(  “  X  “  ));<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"> double<br>theDblNumber  &#x3D;  1234567890  ;<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"><br>Console.WriteLine(  “  Custom formatting: {0} to US telephone {1}  “  ,<br>theDblNumber, theDblNumber.ToString(  “  (###) ### - ####  “  ));<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"> &#x2F;&#x2F;  Keep<br>console open if not run through command prompt<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"><br>Console.Write(  “  &#x2F;nPress Enter to Continue  “  );<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif"><br>Console.ReadLine();<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif"><br>}<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif"> }<br>N2表示小数点后保留2位….</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2007/11/25/1902025/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2007/11/25/1902025/" class="post-title-link" itemprop="url">网易,微软Bugs</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2007-11-25 22:12:00" itemprop="dateCreated datePublished" datetime="2007-11-25T22:12:00+08:00">2007-11-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:34:50" itemprop="dateModified" datetime="2023-10-05T12:34:50+08:00">2023-10-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>找到网易的bug是因为今天kaonuonuo要我给她寝室的一个女生投什么2007校园活力女生的票。我点开网址进去，登录后投票。点了多次“投我一票”按钮，发现<br>每次都是验证码错误。又点了几次还能提示请先登录。我晕……这做的啥网站。我想自己输入的验证码也不可能都不正确。最后还是让我发现导致这些错误的原因，原来<br>晚上9点过后就不能投票了。乱提示信息。这也太不专业了。  估计是它提前用户名密码还是老的流程。但是提取验证码的时候做了时间处理。<br>而请您先登录这个提示信息估计是自己的session被挤掉了。后来没有让我再输入信息，是因为使用的cookie的机制。</p>
<p>HR打来电话让我在微软的实习招聘里提交自己的简历。于是自己去注册帐号。也不知道为什么提示密码错误，然后那个用户名就提示已经被注册了。晕！后来又换了一个用户名<br>，密码，结果提示不能使用同样的身份证号。疯了…….我现在想想这个的确可以做个bug，如果我不想让某个人进入微软，我只要把他的身份证号码事先输进去就行<br>了。每年做一次。。他就永远进不了了。（除非使用非注册手段）。不过我真的不清楚为啥它提示注册不成功，却已经把所有的信息加入的数据库中。后来自己想到一个方法。反<br>正邮箱已经写进去了，那就让它发个密码到我邮箱就行了。后来在微软的简历里还发现有其他种种问题。下拉框里的Text竟然是一样的。但是Value不一样。真不知道是<br>哪位仁兄做的，也不知道是哪位仁兄测的。这bug都没有人解决吗？</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2007/11/25/1902009/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2007/11/25/1902009/" class="post-title-link" itemprop="url">微软亚洲工程院成立4周年</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2007-11-25 21:53:00" itemprop="dateCreated datePublished" datetime="2007-11-25T21:53:00+08:00">2007-11-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:34:50" itemprop="dateModified" datetime="2023-10-05T12:34:50+08:00">2023-10-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>本来应该昨天写。不过昨天刚刚听完音乐会。音乐会结束就飞奔回寝，所以就没有来得及写。音乐会不错，或许是自己头一次听的缘故。开始宏江做了开场致辞。我惊奇的发现亚<br>勤和宏江距我自己有几个位置远。看来拿到的票还是蛮不错的。<br>最后演奏蓝色的多瑙河时我一直在看手表，看看是否能赶上最后一般车。本来想发短信来打发无聊的时间，结果才发一封，整个音乐会场就把手机信号屏蔽了。</p>
<p>想来自己蛮幸运的，一年一次的节日还被我赶上了。lucky！</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/58/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/58/">58</a><span class="page-number current">59</span><a class="page-number" href="/page/60/">60</a><span class="space">&hellip;</span><a class="page-number" href="/page/80/">80</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/60/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2017 – 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">帐前卒</span>
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>

  






  




<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"chilly/blog_comments","issue_term":"url","theme":"github-dark"}</script>
<script src="/js/third-party/comments/utterances.js"></script>

</body>
</html>
