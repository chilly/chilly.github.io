<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.ico">
  <link rel="mask-icon" href="/icon.svg" color="#222">
  <meta name="google-site-verification" content="hcdiytqUGPoTW0eAaN6TWAmRfiv7IWFIIc9DKNr7Eno">
  <meta name="yandex-verification" content="eb8f01295fdccb3d">
  <meta name="baidu-site-verification" content="QoJxa8tZnO">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Times+New+Roman:300,300italic,400,400italic,700,700italic%7CRaleway:300,300italic,400,400italic,700,700italic%7COswald:300,300italic,400,400italic,700,700italic%7CWork+Sans:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"chillyc.info","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.18.1","exturl":true,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":true,"nav":null,"activeClass":"utterances"},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":20,"unescape":false,"preload":false}}</script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.18.1/source/js/config.min.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="帐前卒专栏">
<meta property="og:url" content="http://chillyc.info/page/25/">
<meta property="og:site_name" content="帐前卒专栏">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="帐前卒">
<meta property="article:tag" content="有意思的代码，有意思的架构, 有趣的小说, 好看的故事, code, software, articles, novel, architect">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://chillyc.info/page/25/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/25/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>帐前卒专栏 - code, software architect, articles and novels.<br/>代码，软件架构，博客和小说</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/rss2.xml" title="帐前卒专栏" type="application/rss+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <!-- Global site tag (gtag.js) - Google Analytics start -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-11621532-3"></script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6565392687771630"
     crossorigin="anonymous"></script>
<script>
  window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-11621532-3');
</script>
 <!-- Global site tag (gtag.js) - Google Analytics end -->
  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">帐前卒专栏</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">code, software architect, articles and novels.<br/>代码，软件架构，博客和小说</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li><li class="menu-item menu-item-feeds"><a href="/rss2.xml" rel="section"><i class="fa fa-feed fa-fw"></i>feeds</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="帐前卒"
      src="/icon.svg">
  <p class="site-author-name" itemprop="name">帐前卒</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">798</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">35</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">756</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2NoaWxseQ==" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;chilly"><i class="fab fa-github fa-fw"></i>GitHub</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS9jY3R0XzE=" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;cctt_1"><i class="fab fa-twitter fa-fw"></i>Twitter</span>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLW5kLzQuMC8="><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/big/by_nc_nd.svg" alt="Creative Commons"></span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2010/06/29/5700952/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2010/06/29/5700952/" class="post-title-link" itemprop="url">博弈问题及SG函数</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2010-06-29 09:11:00" itemprop="dateCreated datePublished" datetime="2010-06-29T09:11:00+08:00">2010-06-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:41:46" itemprop="dateModified" datetime="2023-10-05T12:41:46+08:00">2023-10-05</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>6.8k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>6 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>转载自<span class="exturl" data-url="aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbG9naWNfbnV0L2FyY2hpdmUvMjAwOS8xMC8yMi80NzExNDg5LmFzcHg=">http://blog.csdn.net/logic_nut/archive/2009/10/22/4711489.aspx<i class="fa fa-external-link-alt"></i></span></p>
<p>推荐看看：<span class="exturl" data-url="aHR0cDovL3d3dy5tYXRoLnVjbGEuZWR1L350b20v">http://www.math.ucla.edu/~tom/<i class="fa fa-external-link-alt"></i></span></p>
<p>学习理论在这里：<span class="exturl" data-url="aHR0cDovL3d3dy5tYXRoLnVjbGEuZWR1L350b20vR2FtZV9UaGVvcnkvQ29udGVudHMuaHRtbA==">http://www.math.ucla.edu/~tom/Game_Theory/Contents.html<i class="fa fa-external-link-alt"></i></span></p>
<p>博弈问题<br />
若你想仔细学习博弈论，我强烈推荐加利福尼亚大学的Thomas S.<br />
Ferguson教授精心撰写并免费提供的这份教材，它使我受益太多。（如果你的英文水平不足以阅读它，我只能说，恐怕你还没到需要看“博弈论”的时 候。）</p>
<p>Nim游戏是博弈论中最经典的模型（之一？），它又有着十分简单的规则和无比优美的结论，由这个游戏开始了解博弈论恐怕是最合适不过了。</p>
<p>Nim游戏是组合游戏(Combinatorial Games)的一种，准确来说，属于“Impartial Combinatorial<br />
Games”（以下简称ICG）。满足以下条件的游戏是ICG（可能不太严谨）：1、有两名选手；2、两名选手交替对游戏进行移动(move)，每次一<br />
步，选手可以在（一般而言）有限的合法移动集合中任选一种进行移动；3、对于游戏的任何一种可能的局面，合法的移动集合只取决于这个局面本身，不取决于轮<br />
到哪名选手操作、以前的任何操作、骰子的点数或者其它什么因素；<br />
4、如果轮到某名选手移动，且这个局面的合法的移动集合为空（也就是说此时无法进行移动），则这名选手负。根据这个定义，很多日常的游戏并非ICG。例如<br />
象棋就不满足条件3，因为红方只能移动红子，黑方只能移动黑子，合法的移动集合取决于轮到哪名选手操作。</p>
<p>通常的Nim游戏的定义是这样的：有若干堆石子，每堆石子的数量都是有限的，合法的移动是“选择一堆石子并拿走若干颗（不能不拿）”，如果轮到某个人时所<br />
有的石子堆都已经被拿空了，则判负（因为他此刻没有任何合法的移动）。</p>
<p>这游戏看上去有点复杂，先从简单情况开始研究吧。如果轮到你的时候，只剩下一堆石子，那么此时的必胜策略肯定是把这堆石子全部拿完一颗也不给对手剩，然后<br />
对手就输了。如果剩下两堆不相等的石子，必胜策略是通过取多的一堆的石子将两堆石子变得相等，以后如果对手在某一堆里拿若干颗，你就可以在另一堆中拿同样<br />
多的颗数，直至胜利。如果你面对的是两堆相等的石子，那么此时你是没有任何必胜策略的，反而对手可以遵循上面的策略保证必胜。如果是三堆石子……好像已经<br />
很难分析了，看来我们必须要借助一些其它好用的（最好是程式化的）分析方法了，或者说，我们最好能够设计出一种在有必胜策略时就能找到必胜策略的算法。</p>
<p>定义P-position和N-position，其中P代表Previous，N代表Next。直观的说，上一次move的人有必胜策略的局面是P-<br />
position，也就是“后手可保证必胜”或者“先手必败”，现在轮到move的人有必胜策略的局面是N-position，也就是“先手可保证必<br />
胜”。更严谨的定义是：1.无法进行任何移动的局面（也就是terminal position）是P-position；2.可以移动到P-<br />
position的局面是N-position；3.所有移动都导致N-position 的局面是P-position。</p>
<p>按照这个定义，如果局面不可能重现，或者说positions的集合可以进行拓扑排序，那么每个position或者是P-position或者是N-<br />
position，而且可以通过定义计算出来。</p>
<p>以Nim游戏为例来进行一下计算。比如说我刚才说当只有两堆石子且两堆石子数量相等时后手有必胜策略，也就是这是一个P-position，下面我们依靠<br />
定义证明一下(3,3)是一个P-position。首先(3,3)的子局面（也就是通过合法移动可以导致的局面）有(0,3)(1,3)(2,3)（显<br />
然交换石子堆的位置不影响其性质，所以把(x,y)和(y,x)看成同一种局面），只需要计算出这三种局面的性质就可以了。<br />
(0,3)的子局面有(0,0)、(0,1)、(0,2)，其中(0,0)显然是P-position，所以(0,3)是N-position（只要找到 一个是P-<br />
position的子局面就能说明是N-position）。(1,3)的后继中(1,1)是P-position（因为(1,1)的唯一子局 面(0,1)是N-<br />
position），所以(1,3)也是N-position。同样可以证明(2,3)是N-position。所以(3,3)的所有 子局面都是N-<br />
position，它就是P-position。通过一点简单的数学归纳，可以严格的证明“有两堆石子时的局面是P-position当且<br />
仅当这两堆石子的数目相等”。</p>
<p>根据上面这个过程，可以得到一个递归的算法——对于当前的局面，递归计算它的所有子局面的性质，如果存在某个子局面是P-position，那么向这个子<br />
局面的移动就是必胜策略。当然，可能你已经敏锐地看出有大量的重叠子问题，所以可以用DP或者记忆化搜索的方法以提高效率。但问题是，利用这个算法，对于<br />
某个Nim游戏的局面(a1,a2,…,an)来说，要想判断它的性质以及找出必胜策略，需要计算O(a1<em>a2</em>…*an)个局面的性质，不管<br />
怎样记忆化都无法降低这个时间复杂度。所以我们需要更高效的判断Nim游戏的局面的性质的方法。</p>
<p>直接说结论好了。(Bouton’s Theorem)对于一个Nim游戏的局面(a1,a2,…,an)，它是P-<br />
position当且仅当a1<sup>a2</sup>…<sup>an=0，其中</sup>表示异<br />
或(xor)运算。怎么样，是不是很神奇？我看到它的时候也觉得很神奇，完全没有道理的和异或运算扯上了关系。但这个定理的证明却也不复杂，基本上就是按<br />
照两种position的证明来的。</p>
<p>根据定义，证明一种判断position的性质的方法的正确性，只需证明三个命题： 1、这个判断将所有terminal position判为P-<br />
position；2、根据这个判断被判为N-position的局面一定可以移动到某个P-position；3、根据这个判 断被判为P-<br />
position的局面无法移动到某个P-position。</p>
<p>第一个命题显然，terminal position只有一个，就是全0，异或仍然是0。</p>
<p>第二个命题，对于某个局面(a1,a2,…,an)，若a1<sup>a2</sup>…^an!=0，一定存在某个合法的移动，将ai改变成ai’后满足<br />
a1<sup>a2</sup>…<sup>ai’</sup>…<sup>an=0。不妨设a1</sup>a2<sup>…</sup>an=k，则一定存在某个ai，它的二进制表示在k的最高位上是1（否则k的<br />
最高位那个1是怎么得到的）。这时ai<sup>k&lt;ai一定成立。则我们可以将ai改变成ai’=ai</sup>k，此时<br />
a1<sup>a2</sup>…<sup>ai’</sup>…<sup>an=a1</sup>a2<sup>…</sup>an^k=0。</p>
<p>第三个命题，对于某个局面(a1,a2,…,an)，若a1<sup>a2</sup>…^an=0，一定不存在某个合法的移动，将ai改变成ai’后满足<br />
a1<sup>a2</sup>…<sup>ai’</sup>…<sup>an=0。因为异或运算满足消去率，由a1</sup>a2<sup>…</sup>an=a1<sup>a2</sup>…<sup>ai’</sup>…^an可以得<br />
到ai=ai’。所以将ai改变成ai’不是一个合法的移动。证毕。</p>
<p>根据这个定理，我们可以在O(n)的时间内判断一个Nim的局面的性质，且如果它是N-position，也可以在O(n)的时间内找到所有的必胜策略。<br />
Nim问题就这样基本上完美的解决了。</p>
<p>在下一节“Sprague-Grundy函数”中，我们将面对更多与Nim游戏有关的变种，还会看到Nim游戏的a1<sup>a2</sup>…^an这个值更广泛的<br />
意义。敬请期待。<br />
上一期的文章里我们仔细研究了Nim游戏，并且了解了找出必胜策略的方法。但如果把Nim的规则略加改变，你还能很快找出必胜策略吗？比如说：有n堆石<br />
子，每次可以从第1堆石子里取1颗、2颗或3颗，可以从第2堆石子里取奇数颗，可以从第3堆及以后石子里取任意颗……这时看上去问题复杂了很多，但相信你<br />
如果掌握了本节的内容，类似的千变万化的问题都是不成问题的。</p>
<p>现在我们来研究一个看上去似乎更为一般的游戏：给定一个有向无环图和一个起始顶点上的一枚棋子，两名选手交替的将这枚棋子沿有向边进行移动，无法移动者判<br />
负。事实上，这个游戏可以认为是所有Impartial Combinatorial<br />
Games的抽象模型。也就是说，任何一个ICG都可以通过把每个局面看成一个顶点，对每个局面和它的子局面连一条有向边来抽象成这个“有向图游戏”。下<br />
面我们就在有向无环图的顶点上定义Sprague-Garundy函数。</p>
<p>首先定义mex(minimal excludant)运算，这是施加于一个集合的运算，表示最小的不属于这个集合的非负整数。例如mex{0,1,2,4}=3、<br />
mex{2,3,5}=0、mex{}=0。</p>
<p>对于一个给定的有向无环图，定义关于图的每个顶点的Sprague-Garundy函数g如下：g(x)=mex{ g(y) | y是x的后继 }。</p>
<p>来看一下SG函数的性质。首先，所有的terminal<br />
position所对应的顶点，也就是没有出边的顶点，其SG值为0，因为它的后继集合是空集。然后对于一个g(x)=0的顶点x，它的所有后继y都满足<br />
g(y)!=0。对于一个g(x)!=0的顶点，必定存在一个后继y满足g(y)=0。</p>
<p>以上这三句话表明，顶点x所代表的postion是P-position当且仅当g(x)=0（跟P-positioin/N-position的定义的<br />
那三句话是完全对应的）。我们通过计算有向无环图的每个顶点的SG值，就可以对每种局面找到必胜策略了。但SG函数的用途远没有这样简单。如果将有向图游<br />
戏变复杂一点，比如说，有向图上并不是只有一枚棋子，而是有n枚棋子，每次可以任选一颗进行移动，这时，怎样找到必胜策略呢？</p>
<p>让我们再来考虑一下顶点的SG值的意义。当g(x)=k时，表明对于任意一个0&lt;=i&lt;k，都存在x的一个后继y满足g(y)=i。也就是<br />
说，当某枚棋子的SG值是k时，我们可以把它变成0、变成1、……、变成k-1，但绝对不能保持k不变。不知道你能不能根据这个联想到Nim游戏，Nim<br />
游戏的规则就是：每次选择一堆数量为k的石子，可以把它变成0、变成1、……、变成k-1，但绝对不能保持k不变。这表明，如果将n枚棋子所在的顶点的<br />
SG值看作n堆相应数量的石子，那么这个Nim游戏的每个必胜策略都对应于原来这n枚棋子的必胜策略！</p>
<p>对于n个棋子，设它们对应的顶点的SG值分别为(a1,a2,…,an)，再设局面(a1,a2,…,an)时的Nim游戏的一种必胜策略是把<br />
ai变成k，那么原游戏的一种必胜策略就是把第i枚棋子移动到一个SG值为k的顶点。这听上去有点过于神奇——怎么绕了一圈又回到Nim游戏上了。</p>
<p>其实我们还是只要证明这种多棋子的有向图游戏的局面是P-position当且仅当所有棋子所在的位置的SG函数的异或为0。这个证明与上节的 Bouton’s<br />
Theorem几乎是完全相同的，只需要适当的改几个名词就行了。</p>
<p>刚才，我为了使问题看上去更容易一些，认为n枚棋子是在一个有向图上移动。但如果不是在一个有向图上，而是每个棋子在一个有向图上，每次可以任选一个棋子<br />
（也就是任选一个有向图）进行移动，这样也不会给结论带来任何变化。</p>
<p>所以我们可以定义有向图游戏的和(Sum of Graph<br />
Games)：设G1、G2、……、Gn是n个有向图游戏，定义游戏G是G1、G2、……、Gn的和(Sum)，游戏G的移动规则是：任选一个子游戏Gi<br />
并移动上面的棋子。Sprague-Grundy<br />
Theorem就是：g(G)=g(G1)<sup>g(G2)</sup>…^g(Gn)。也就是说，游戏的和的SG函数值是它的所有子游戏的SG函数值的异或。</p>
<p>再考虑在本文一开头的一句话：任何一个ICG都可以抽象成一个有向图游戏。所以“SG函数”和“游戏的和”的概念就不是局限于有向图游戏。我们给每个<br />
ICG的每个position定义SG值，也可以定义n个ICG的和。所以说当我们面对由n个游戏组合成的一个游戏时，只需对于每个游戏找出求它的每个局<br />
面的SG值的方法，就可以把这些SG值全部看成Nim的石子堆，然后依照找Nim的必胜策略的方法来找这个游戏的必胜策略了！</p>
<p>回到本文开头的问题。有n堆石子，每次可以从第1堆石子里取1颗、2颗或3颗，可以从第2堆石子里取奇数颗，可以从第3堆及以后石子里取任意颗……我们可<br />
以把它看作3个子游戏，第1个子游戏只有一堆石子，每次可以取1、2、3颗，很容易看出x颗石子的局面的SG值是x%4。第2个子游戏也是只有一堆石子，<br />
每次可以取奇数颗，经过简单的画图可以知道这个游戏有x颗石子时的SG值是x%2。第3个游戏有n-2堆石子，就是一个Nim游戏。对于原游戏的每个局<br />
面，把三个子游戏的SG值异或一下就得到了整个游戏的SG值，然后就可以根据这个SG值判断是否有必胜策略以及做出决策了。其实看作3个子游戏还是保守了<br />
些，干脆看作n个子游戏，其中第1、2个子游戏如上所述，第3个及以后的子游戏都是“1堆石子，每次取几颗都可以”，称为“任取石子游戏”，这个超简单的<br />
游戏有x颗石子的SG值显然就是x。其实，n堆石子的Nim游戏本身不就是n个“任取石子游戏”的和吗？</p>
<p>所以，对于我们来说，SG函数与“游戏的和”的概念不是让我们去组合、制造稀奇古怪的游戏，而是把遇到的看上去有些复杂的游戏试图分成若干个子游戏，对于<br />
每个比原游戏简化很多的子游戏找出它的SG函数，然后全部异或起来就得到了原游戏的SG函数，就可以解决原游戏了。<br />
例子程序：<br />
acm.hdu上的例子</p>
<p>A New Tetris Game 22222</p>
<p>#include <iostream><br />
#include <set><br />
#include <bitset><br />
#include <map><br />
//#include <algorithm><br />
using namespace std;</p>
<p>//better if find area that not linked and sg each<br />
typedef bitset&lt;32&gt; int_set;<br />
struct array2{<br />
bitset&lt;64&gt; bs;<br />
int r,c;<br />
bool operator&lt;(const array2&amp; a2)const{<br />
if(r!=a2.r)return r&lt;a2.r;<br />
if(c!=a2.c)return c&lt;a2.c;<br />
return <em>(long long</em>)&amp;bs&lt; <em>(long long</em>)&amp;<span class="exturl" data-url="aHR0cDovL2EyLmJz">a2.bs<i class="fa fa-external-link-alt"></i></span>;<br />
}<br />
bitset&lt;64&gt;::reference operator()(int ir,int ic){<br />
return bs[ir*c+ic];<br />
}<br />
}g;<br />
inline int mex(const int_set&amp; is){<br />
if(is.none())return 0;<br />
for(int i=0;i!=32;++i){ //assum i will never exceed 32<br />
if(is.test(i)==0)<br />
return i;<br />
}<br />
}<br />
inline bool check_ok(int ir,int ic){<br />
return !g(ir,ic)&amp;&amp;!g(ir+1,ic)&amp;&amp;!g(ir,ic+1)&amp;&amp;!g(ir+1,ic+1);<br />
}<br />
map&lt;array2,int&gt; ma;<br />
inline void set_it(int ir,int ic,int s){<br />
g(ir,ic)=s;<br />
g(ir+1,ic)=s;<br />
g(ir,ic+1)=s;<br />
g(ir+1,ic+1)=s;<br />
}<br />
inline int sg(int r,int c){<br />
map&lt;array2,int&gt;::iterator p=ma.find(g);//optimizing for the repeated<br />
if(p!=ma.end())return p-&gt;second;<br />
int_set sgs;<br />
for(int i=0;i&lt;r-1;++i)<br />
for(int j=0;j&lt;c-1;++j)<br />
if(check_ok(i,j)){<br />
set_it(i,j,1);<br />
sgs.set(sg(r,c));<br />
set_it(i,j,0);<br />
}<br />
return ma[g]=mex(sgs);<br />
}<br />
int main(){<br />
int n;<br />
while(cin&gt;&gt;n){<br />
int out=0;<br />
while(n–){<br />
int r,c;<br />
cin&gt;&gt;g.r &gt;&gt;g.c;<br />
for(int i=0;i!=g.r;++i)<br />
for(int j=0;j!=g.c;++j){<br />
char c;<br />
cin&gt;&gt;c;<br />
g(i,j)=c-‘0’;<br />
}<br />
out^=sg(g.r,g.c);<br />
}<br />
cout&lt;&lt;(out?“Yes”:“No”)&lt;&lt;endl;<br />
}<br />
return 0;<br />
}</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2010/06/28/5698822/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2010/06/28/5698822/" class="post-title-link" itemprop="url">Python 解析XML</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2010-06-28 10:58:00" itemprop="dateCreated datePublished" datetime="2010-06-28T10:58:00+08:00">2010-06-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:41:46" itemprop="dateModified" datetime="2023-10-05T12:41:46+08:00">2023-10-05</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>763</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>1 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><root> <nodes> <node name="n1"> node1 </node> <node name="n2"> node2 </node><br />
</nodes> <edge> nothing </edge> </root></p>
<p>xml 格式如上.</p>
<p>首先要得到root节点:</p>
<p>from xml.etree.ElementTree import ElementTree tree = ElementTree()<br />
tree.parse(filename) # 你想使用哪个文件作为输入? root = tree.getroot()<br />
“”“如果你的输入的是一段content”“” from xml.etree.ElementTree import XML file =<br />
open(filename) content = file.read(-1) root = XML(content) print(root.tag)<br />
file.close() # or you can use from xml.etree.ElementTree import XMLID file =<br />
open(filename) root = XMLID(file.read(-1)) print(root[0].tag) # root[0] is<br />
<root></root> file.close()</p>
<p>上面的root是class Element的object, 而tree 是ElementTree的object. 如果想得到某个节点的attribute,<br />
例如<node name="name1"><br />
则element.attrib[‘name’]即可.如果是<edge>text</edge>,就是element.text.</p>
<p>如果想得到下一层节点,可以使用root.find(tag)得到,如果不知道具体的tag,那么可以使用root.getchildren().如果想使用某个ta<br />
g作为迭代,例如nodes中有两个node.代码如下:</p>
<p>element_nodes = root.find(‘nodes’) nodes_list =<br />
element_nodes.getiterator(‘node’) for node in nodes_list: print(node.tag)</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2010/06/21/5683238/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2010/06/21/5683238/" class="post-title-link" itemprop="url">Static 关键字用途</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2010-06-21 10:47:00" itemprop="dateCreated datePublished" datetime="2010-06-21T10:47:00+08:00">2010-06-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:41:45" itemprop="dateModified" datetime="2023-10-05T12:41:45+08:00">2023-10-05</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>1.9k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>2 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>copy from <span class="exturl" data-url="aHR0cDovL3d3dy5jbml0YmxvZy5jb20vaWN0Zmx5L2FyY2hpdmUvMjAwNi8xMS8yNS8xOTU5NC5odG1s">http://www.cnitblog.com/ictfly/archive/2006/11/25/19594.html<i class="fa fa-external-link-alt"></i></span></p>
<p>本文只是本人对C++中关于静态类型的一个总结，如错误之处，请大家帮我改正。我分两个方面来总结，第一方面主要是相对于面向过程而言，即在这方面不涉及<br />
到类，第二方面相对于面向对象而言，主要说明static在类中的作用。</p>
<p>一、在面向过程设计中的static关键字</p>
<p>1、 静态全局变量</p>
<p>定义：在全局变量前，加上关键字 static 该变量就被定义成为了一个静态全局变量。</p>
<p>特点：<br />
A、该变量在全局数据区分配内存。<br />
B、初始化：如果不显式初始化，那么将被隐式初始化为0。<br />
C、访变量只在本源文件可见， 严格的讲应该为定义之处开始到本文件结束。</p>
<p>例（摘于C++程序设计教程—钱能主编P103）： 　　　　　　　　<a target="_blank" rel="noopener" href="//file1.cpp">//file1.cpp</a><br />
#include&lt;iostream.h&gt;<br />
void fn();<br />
extern int n;<br />
void main()<br />
{<br />
n=20;<br />
cout &lt;&lt; n &lt;&lt; endl;<br />
fn();<br />
}</p>
<p><a target="_blank" rel="noopener" href="//file2.cpp">//file2.cpp</a><br />
#include&lt;iostream.h&gt;</p>
<p>static int n; //定义静态全局变量，初始化为0；<br />
void fn()<br />
{<br />
n++;<br />
cout &lt;&lt; n &lt;&lt; endl;<br />
}</p>
<p>文件 分别编译能通过，但连接时file1.cpp 中的变量n找不到定义，产生连接错误。</p>
<p>D、文件作用域下声明的const的常量默认 为static存储类型。</p>
<p>2、静态局部变量</p>
<p>定义：在局部变量前加上static关键字时，就定义了静态局部变量。</p>
<p>特 点：<br />
A、该变量在全局数据区分配内存。<br />
B、初始化：如果不显式初始化，那么将被隐式初始化为0。<br />
C、它始终驻 留在全局数据区，直到程序运行结束。但其作用域为局部作用域，当定义它的函数或　语句块结束时，其作用域随之结束。</p>
<p>3、静态函数（注意 与类的静态成员函数区别）</p>
<p>定义：在函数的返回类型前加上static关键字，函数即被定义成静态函数。</p>
<p>特点：<br />
A、静态函数只能在本源文件中使用（这是与普通函数区别）<br />
例（摘于C++程序设计教程—钱能主编P103）： 　　　　　　　　<a target="_blank" rel="noopener" href="//file1.cpp">//file1.cpp</a><br />
void fn();<br />
void staticFn()</p>
<p>void main()<br />
{</p>
<p>fn();<br />
staticFn();<br />
}</p>
<p><a target="_blank" rel="noopener" href="//file2.cpp">//file2.cpp</a><br />
#include&lt;iostream.h&gt;</p>
<p>static void staticFn();<br />
void fn();</p>
<p>void fn()<br />
{<br />
staticFn();<br />
cout &lt;&lt; “this is fn() /n”;<br />
}</p>
<p>void staticFn()<br />
{<br />
cout &lt;&lt; “this is staticFn() /n”;<br />
}<br />
连接时，将产生找不到函数 staticFn()定义的错误。</p>
<p>B、主意事项</p>
<p>在文件作用域下声明的inline函数默认为static类 型。</p>
<p>二、面象对象中的static关键字（主要指类中的static关键字）</p>
<p>1、静态数据成员</p>
<p>特 点：<br />
A、内存分配：在程序的全局数据区分配。<br />
B、初始化和定义：<br />
a、静态数据成员定义时要分配空间，所以不 能在类声明中定义。<br />
b、为了避免在多个使用该类的源文件中，对其重复定义，所在，不能在类的头文件中<br />
定义。<br />
c、静态数据成员因为程序一开始运行就必需存在，所以其初始化的最佳位置在类的内部实现。<br />
C、特点<br />
a、对相于 public,protected,private 关键字的影响它和普通数据成员一样，<br />
b、因为其空间在全局数据区分配，属于所有本类<br />
的对象共享，所以，它不属于特定的类对象，在没产生类对象时其作用域就可见，即在没有产生类的实例时，我们就可以操作它。</p>
<p>D、访问 形式<br />
a、 类对象名.静态数据成员名<br />
b、 类类型名:: 静态数据成员名</p>
<p>E、静态数据成员，主要 用在类的所有实例都拥有的属性上。比如，对于一个存款类，帐号相对<br />
于每个实例都是不同的，但每个实例的利息是相同的。所以，应该把利息设为存款类的<br />
静态数据成员。这有两个好处，第一，不管定义多少个存款类对象，利息数据成员都共享分配在全局区的内存，所以节省存贮空间。第二，一旦利息需要改变时，只<br />
要改变一次，则所有存款类对象的利息全改变过来了，因为它们实际上是共用一个东西。</p>
<p>2、静态成员函数</p>
<p>特点：<br />
A、静态成员函数与类相联系，不与类的对象相联系。<br />
B、静态成员函数不能访问非静态数据成员。原因很简单，非静态数据成员属于特定的类实 例。</p>
<p>作用：<br />
主要用于对静态数据成员的操作。<br />
调用形式：<br />
A、类对象名.静态成员函数名（）<br />
B、类类型名:: 静态成员函数名（）</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2010/06/21/2010-06-21-volatile-do/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2010/06/21/2010-06-21-volatile-do/" class="post-title-link" itemprop="url">What Does Volatile Do?</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2010-06-21 00:00:00" itemprop="dateCreated datePublished" datetime="2010-06-21T00:00:00+08:00">2010-06-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 23:05:08" itemprop="dateModified" datetime="2023-10-05T23:05:08+08:00">2023-10-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/code/" itemprop="url" rel="index"><span itemprop="name">code</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>3.1k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>3 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <meta name="_edit_last" content="1" />
<meta name="views" content="536" />
<meta name="_wp_old_slug" content="copy" />
copy from http://www.javaperformancetuning.com/news/qotm030.shtml
<p><strong>What does <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">volatile</span><br></pre></td></tr></table></figure> do?</strong></p>
<p>This is probably best explained by comparing the effects that <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">volatile</span><br></pre></td></tr></table></figure> and <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">synchronized</span><br></pre></td></tr></table></figure> have on a method. <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">volatile</span><br></pre></td></tr></table></figure> is a  field modifier, while <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">synchronized</span><br></pre></td></tr></table></figure> modifies code blocks and  methods. So we can specify three variations of a simple accessor using those two  keywords:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">         int i1;              int geti1() &#123;return i1;&#125;</span><br><span class="line">volatile int i2;              int geti2() &#123;return i2;&#125;</span><br><span class="line">         int i3; synchronized int geti3() &#123;return i3;&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">geti1()</span><br></pre></td></tr></table></figure> accesses the value currently stored in <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i1</span><br></pre></td></tr></table></figure> <em>in the current thread</em>. Threads can have local copies of variables, and  the data does not have to be the same as the data held in other threads. In  particular, another thread may have updated <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i1</span><br></pre></td></tr></table></figure> in it's thread, but the  value in the current thread could be different from that updated value. In  fact Java has the idea of a "main" memory, and this is the memory that holds the  current "correct" value for variables. Threads can have their own copy of data  for variables, and the thread copy can be different from the "main" memory.  So in fact, it is possible for the "main" memory  to have a value of 1 for <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i1</span><br></pre></td></tr></table></figure>, for thread1 to have a value of 2 for <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i1</span><br></pre></td></tr></table></figure> and for thread2 to  have a value of 3 for <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i1</span><br></pre></td></tr></table></figure> if thread1 and thread2 have both updated <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i1</span><br></pre></td></tr></table></figure> but those updated value has not yet been propagated to "main" memory or  other threads.
<p>On the other hand, <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">geti2()</span><br></pre></td></tr></table></figure> effectively accesses the value  of <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i2</span><br></pre></td></tr></table></figure> from “main” memory. A <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">volatile</span><br></pre></td></tr></table></figure> variable is not allowed to  have a local copy of a variable that is different from the value currently held in “main”  memory. Effectively, a variable declared <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">volatile</span><br></pre></td></tr></table></figure> must have it’s data  synchronized across all threads, so that whenever you access or update the variable in any thread, all  other threads immediately see the same value. Of course, it is likely that <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">volatile</span><br></pre></td></tr></table></figure> variables have a higher access and update overhead than “plain”  variables, since the reason threads can have their own copy of data is for better efficiency.</p>
<p>Well if <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">volatile</span><br></pre></td></tr></table></figure> already synchronizes data across threads,  what is <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">synchronized</span><br></pre></td></tr></table></figure> for? Well there are two differences. Firstly <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">synchronized</span><br></pre></td></tr></table></figure> obtains and releases locks on monitors which  can force only one thread at a time to execute a code block, if both threads use  the same monitor (effectively the same object lock). That’s the fairly well known  aspect to <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">synchronized</span><br></pre></td></tr></table></figure>. But <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">synchronized</span><br></pre></td></tr></table></figure> also  synchronizes memory. In fact <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">synchronized</span><br></pre></td></tr></table></figure> synchronizes the whole of thread  memory with “main” memory. So executing <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">geti3()</span><br></pre></td></tr></table></figure> does the following:</p>
<ol>
	<li>The thread acquires the lock on the monitor for object <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this</span><br></pre></td></tr></table></figure> (assuming the monitor is unlocked, otherwise the thread waits until the  monitor is unlocked).</li>
	<li>The thread memory flushes <em>all</em> its variables, i.e. it  has all of its variables effectively read from "main" memory (JVMs can use dirty sets to optimize  this so that only "dirty" variables are flushed, but conceptually this is the same. See  section 17.9 of the Java language specification).</li>
	<li>The code block is executed (in this case setting the return  value to the current value of <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i3</span><br></pre></td></tr></table></figure>, which may have just been reset from "main"  memory).</li>
	<li>(Any changes to variables would normally now be written out to  "main" memory, but for <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">geti3()</span><br></pre></td></tr></table></figure> we have no changes.)</li>
	<li>The thread releases the lock on the monitor for object <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this</span><br></pre></td></tr></table></figure>.</li>
</ol>
So where <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">volatile</span><br></pre></td></tr></table></figure> only synchronizes the value of one  variable between thread memory and "main" memory, <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">synchronized</span><br></pre></td></tr></table></figure> synchronizes  the value of all variables between thread memory and "main" memory, and locks and  releases a monitor to boot. Clearly <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">synchronized</span><br></pre></td></tr></table></figure> is likely to have  more overhead than <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">volatile</span><br></pre></td></tr></table></figure>.

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2010/06/17/5674707/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2010/06/17/5674707/" class="post-title-link" itemprop="url">微博系统</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2010-06-17 09:25:00" itemprop="dateCreated datePublished" datetime="2010-06-17T09:25:00+08:00">2010-06-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:41:45" itemprop="dateModified" datetime="2023-10-05T12:41:45+08:00">2023-10-05</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>195</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>1 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>貌似网上大家都使用Easytalk搭建微博系统。那东东使用php和mysql的。就是备案难了点，可以考虑放到米国。小量用户速度蛮快的，大量的用户没有测试过.<br />
…(废话ing)有个家伙做了一个IT的微博，就是贴代码麻烦了点，要先去<span class="exturl" data-url="aHR0cDovL3Bhc3RlYmluLnhuLS1jb20tencyZXI4Y3AxNGFvdmdnejRobmdj">http://pastebin.com那里发布成功<i class="fa fa-external-link-alt"></i></span>，然后再从分享那里贴进来。。。虽然<br />
webservice已经大行其道，但是真正的接口互用似乎还要等到在未来的若干年。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2010/06/17/2010-06-17-sizeof-c/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2010/06/17/2010-06-17-sizeof-c/" class="post-title-link" itemprop="url">Sizeof in C++</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2010-06-17 00:00:00" itemprop="dateCreated datePublished" datetime="2010-06-17T00:00:00+08:00">2010-06-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-06 22:54:04" itemprop="dateModified" datetime="2023-10-06T22:54:04+08:00">2023-10-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/code/" itemprop="url" rel="index"><span itemprop="name">code</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>1.8k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>2 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <meta name="_edit_last" content="1" />
<meta name="_su_description" content="the inside of sizeof
the inside of memory alignment" />
<meta name="_su_keywords" content="c++, sizeof, double, int, align,memory" />
<meta name="_su_title" content="c++, sizeof, double, int, align,memory" />
<meta name="views" content="1054" />
I use c++ in linux which is gcc version 4.4.1 (Ubuntu 4.4.1-4ubuntu9).
<p>I considered that c++ memory alignment is like the following:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// pseudo-code of memory alignment</span><br><span class="line">remove_all_static_varibles();</span><br><span class="line">int max= 0;</span><br><span class="line">foreach(element in struct)</span><br><span class="line">    find_the_max_memory_used(element,&amp;amp;max);</span><br><span class="line">int align = max &amp;gt; default? default: max;</span><br><span class="line">// if max memory used for element is larger than the default, use default.</span><br><span class="line">int memory = sum(memory_used(elements));</span><br><span class="line"></span><br><span class="line">if(memory%align != 0)</span><br><span class="line">// here will execute alignment!</span><br><span class="line">&#123;</span><br><span class="line">    memory = (memory/align + 1 )*align;</span><br><span class="line">&#125;</span><br><span class="line">if(memory == 0)</span><br><span class="line">    memory = 1;</span><br><span class="line">return memory;</span><br></pre></td></tr></table></figure>
<p>vc++ use #pragma_pack(n) set the default.if there are three char in a struct, like:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">typedef struct&#123;</span><br><span class="line">	char a;</span><br><span class="line">	char b;</span><br><span class="line">	char c;</span><br><span class="line">&#125;X;</span><br><span class="line">sizeof(X); // it will be 3</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">typedef struct&#123;</span><br><span class="line">	char a;</span><br><span class="line">	short b;</span><br><span class="line"></span><br><span class="line">&#125;Y;</span><br><span class="line">sizeof(Y); // here will be 4</span><br><span class="line"></span><br><span class="line">typedef struct&#123;</span><br><span class="line">	char a;</span><br><span class="line">	int b;</span><br><span class="line">&#125;Z;</span><br><span class="line"></span><br><span class="line">sizeof(Z); // here will be 8</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">typedef struct&#123;</span><br><span class="line">	double a;</span><br><span class="line">	char b;</span><br><span class="line">&#125;W;</span><br><span class="line">sizeof(W);</span><br><span class="line">// it will be 12, the align is 4</span><br><span class="line">// when the max memory used is larger</span><br><span class="line">// than 4, it will be 4</span><br></pre></td></tr></table></figure>
<p>if the class or struct is empty, sizeof(it) will be 1.</p>
<p>But if there are static varibles in classes or structs, you can remove it!. like:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">class A&#123;</span><br><span class="line">	static int a;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line">sizeof(A); // it will be 1</span><br></pre></td></tr></table></figure>
<p>in class there will be many class functions. But A class is thought as A struct and many functions set. sizeof(A class) will compute the size of struct.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">class ZZ&#123;</span><br><span class="line">    public:</span><br><span class="line">        ZZ()&#123;</span><br><span class="line">            int a = 3;</span><br><span class="line">            cout &amp;lt;&amp;lt; &quot;I am ZZ&quot;&amp;lt;&amp;lt;endl;</span><br><span class="line">            cout &amp;lt;&amp;lt; a&amp;lt;&amp;lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">        ~ZZ()&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    int c;</span><br><span class="line">&#125;;</span><br><span class="line">sizeof(ZZ); // will be 4;</span><br><span class="line">/* it is like a struct and two member functions.</span><br><span class="line">struct ZZ&#123;</span><br><span class="line">	int c;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ZZ@ZZ() is name mingling</span><br><span class="line">ZZ@ZZ()&#123;</span><br><span class="line">	int a = 3;</span><br><span class="line">        cout &amp;lt;&amp;lt; &quot;I am ZZ&quot;&amp;lt;&amp;lt;endl;</span><br><span class="line">        cout &amp;lt;&amp;lt; a&amp;lt;&amp;lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">ZZ@~ZZ()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<p>but when we meet the virtual member functions and virtual derived class, it will be different.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2010/06/14/5671142/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2010/06/14/5671142/" class="post-title-link" itemprop="url">TravelMate 2040</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2010-06-14 18:31:00" itemprop="dateCreated datePublished" datetime="2010-06-14T18:31:00+08:00">2010-06-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:41:45" itemprop="dateModified" datetime="2023-10-05T12:41:45+08:00">2023-10-05</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>128</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>1 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>又拆了个本本，这个本本设计的不怎么合理。安装的时候严丝合缝，拆卸的时候就相当的麻烦。首先拧掉所有看得见的螺丝。先拆电源板，要先将屏转到180度，拆掉电源，然<br />
后再拆电源板。拆下电源板时，再拧掉键盘的螺丝和外壳螺丝。这里键盘的螺丝滑了…我就没有继续拆卸…zzz</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2010/05/27/5627160/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2010/05/27/5627160/" class="post-title-link" itemprop="url">Ignorance Bless You! 无知是福</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2010-05-27 09:23:00" itemprop="dateCreated datePublished" datetime="2010-05-27T09:23:00+08:00">2010-05-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:41:45" itemprop="dateModified" datetime="2023-10-05T12:41:45+08:00">2023-10-05</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>1.8k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>2 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>近期看一个电影&lt;二维平面&gt;(FlatLand),这个电影讲述的是二维平面中发生的故事.发现任何事物都很难脱离自身所在的环境想问题.二维中的square<br />
A就是这样.他只知东西南北四个方向,完全没有向上和向下的概念.所以圆球说线移动成面,面移动成体,对square A来说完全没有概念.但是当square A脱<br />
离了他原本所在的二维平面,他人也就大彻大悟了.如果有一维直线,也就有二维平面,如果有二维平面,也就会有三维立体空间,如果有三维立体空间,也就会存在四维世界.<br />
在二维世界中如果有人宣扬或者知道三维世界,就要被杀掉,因为不利于二维世界的统治.毕竟如果知道还有更高级的生命体或者个体存在,现在的体制就会土崩瓦解.并非出于<br />
惧怕,而是出于信仰.就如同如果神真的存在,那么人还有什么值得崇拜和推崇的?电光火石中争长短,几许光阴;蜗牛角上较雌雄,许大世界?不过真的有四维世界吗?这首先<br />
要论证真的有二维世界和一维世界吗?因为在我们的世界中暂时还找不到二维物体.想多了就晕,即使知道了事实也无法证明.即使证明了也会引来杀身之祸.所以无知是福.觉<br />
得非常奇怪的一点就是知道了就去宣扬,这让我想到日心说.想来哥白尼的确是位智者.当然逼哥白尼临终发表天体运行论的那群人也很聪明.相反布鲁诺多多少少有些愚钝.不<br />
过提点别人的错误,往往自己也抱持相同的错误.最后用白居不易的&lt;对酒&gt;一诗结束此文:蜗牛角上争何事,石火光中寄此身,随贫随福且欢乐,不开口笑是痴人.</p>
<p>** 中 文名 ** :  二维电影</p>
<p>** 英文名 ** :  Flatland</p>
<p>** 别名 ** :  Flatland the Film</p>
<p>** IMDb ** :  <span class="exturl" data-url="aHR0cDovL3d3dy5pbWRiLmNvbS90aXRsZS90dDk3MjM3NC8="> 7.0/10 (455 votes) <i class="fa fa-external-link-alt"></i></span></p>
<p>** 资 源格式 ** :  DVDRip</p>
<p>** 发行日期 ** :  2007年</p>
<p>** 导 演 ** :  <span class="exturl" data-url="aHR0cDovL3d3dy52ZXJ5Y2QuY29tL3NlYXJjaC9zdGFyL0xhZGQrRWhsaW5nZXIrSnIu"> Ladd Ehlinger Jr. <i class="fa fa-external-link-alt"></i></span></p>
<p>** 演员 ** :  <span class="exturl" data-url="aHR0cDovL3d3dy52ZXJ5Y2QuY29tL3NlYXJjaC9zdGFyL0NocmlzK0NhcnRlcg=="> Chris Carter … King Of Lineland <i class="fa fa-external-link-alt"></i></span><br />
<a target="_blank" rel="noopener" href="http://www.verycd.com/search/star/Megan+Colleen"> Megan Colleen … A Hexagon<br />
</a><br />
<a target="_blank" rel="noopener" href="http://www.verycd.com/search/star/Ladd+Ehlinger+Jr."> Ladd Ehlinger Jr. … A Square<br />
</a><br />
<a target="_blank" rel="noopener" href="http://www.verycd.com/search/star/Oscar+Gutierrez"> Oscar Gutierrez … Old Trapezoid<br />
</a><br />
<a target="_blank" rel="noopener" href="http://www.verycd.com/search/star/Simon+Hammond"> Simon Hammond … A Sphere<br />
</a><br />
<a target="_blank" rel="noopener" href="http://www.verycd.com/search/star/Michael+Karle"> Michael Karle … Pentagon Doctor<br />
</a><br />
<a target="_blank" rel="noopener" href="http://www.verycd.com/search/star/Jeff+Sanders"> Jeff Sanders … Cube Carlton<br />
</a><br />
<a target="_blank" rel="noopener" href="http://www.verycd.com/search/star/Jonathon+Shoemaker"> Jonathon Shoemaker … Soldier X<br />
</a><br />
<a target="_blank" rel="noopener" href="http://www.verycd.com/search/star/Gregory+Trent"> Gregory Trent … President Circle<br />
</a></p>
<p>** 地区 ** :  <span class="exturl" data-url="aHR0cDovL3d3dy52ZXJ5Y2QuY29tL3NlYXJjaC9hcmVhL3VzYQ=="> 美国 <i class="fa fa-external-link-alt"></i></span></p>
<p>** 语 言 ** :  <span class="exturl" data-url="aHR0cDovL3d3dy52ZXJ5Y2QuY29tL3NlYXJjaC9sYW5nL2VuZ2xpc2g="> 英语 <i class="fa fa-external-link-alt"></i></span></p>
<p>** 简 介 ** :</p>
<p>[ ](<span class="exturl" data-url="aHR0cDovL2ltYWdlLTEudmVyeWNkLmNvbS8zZWI2MmI1ZTZlYjVhYmEzY2Q3OTUzMGE1MDAzN2MyODQ1NjA5L3Bvc3QtMzI1OTU=">http://image-1.verycd.com/3eb62b5e6eb5aba3cd79530a50037c2845609/post-32595<i class="fa fa-external-link-alt"></i></span><br />
9-1221031016.jpg)<br />
<img src="http://hi.csdn.net/attachment/201005/28/0_1275033369mMv1.gif" alt="" /></p>
<p>◎译　　名 　二维电影<br />
◎片　　名　Flatland<br />
◎年　　代　2007<br />
◎国　　家　美国<br />
◎类　　别　动画/奇幻/科幻<br />
◎ 语　　言　英语<br />
◎字　　幕　N/A<br />
◎IMDB评分 7.4/10 (253 votes)<br />
◎IMDB链接 <a target="_blank" rel="noopener" href="http://www.imdb.com/title/tt0972374"> http://www.imdb.com/title/tt0972374<br />
</a><br />
◎文件格式　XviD + MP3<br />
◎视频尺寸　656 x 272<br />
◎文件大小　1CD 49 x 15MB<br />
◎片　　长　99 Mins<br />
◎导　　演　 Ladd Ehlinger Jr.<br />
◎主　　演　Chris Carter … King Of Lineland<br />
Megan Colleen … A Hexagon<br />
Ladd Ehlinger Jr. … A Square<br />
Oscar Gutierrez … Old Trapezoid<br />
Simon Hammond … A Sphere<br />
Michael Karle … Pentagon Doctor<br />
Jeff Sanders … Cube Carlton<br />
Jonathon Shoemaker … Soldier X<br />
Gregory Trent … President Circle</p>
<p>◎简　　介</p>
<p>Flatland: The Movie是由1884年一位英国牧师Edwin A.<br />
Abbott(1838-1926)所撰写的一本小册子《Flatland》改编的一部动画片。小说里构造了一个全新的世界──这个世界是二维的！整个小<br />
说分成两个部分，前一部分系统地描述这个二维世界，包括自然状况、居民生活、政治历史等等。真正有趣的事情发生在后一部分里，这里不同维度的世界之间发生<br />
了碰撞——二维世界中的主人公拜访了一维世界，同时又接触到了一个全新的三维世界。当他在他的世界传播三维思想时，整个世界大乱，哥白尼时代的那段故事再 次发生。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2010/05/26/2010-05-26-climbing-wall/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2010/05/26/2010-05-26-climbing-wall/" class="post-title-link" itemprop="url">Climbing Wall?</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2010-05-26 00:00:00" itemprop="dateCreated datePublished" datetime="2010-05-26T00:00:00+08:00">2010-05-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-07 11:42:24" itemprop="dateModified" datetime="2023-10-07T11:42:24+08:00">2023-10-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/knowledge/" itemprop="url" rel="index"><span itemprop="name">knowledge</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>68</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>1 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <meta name="_edit_last" content="1" />
<meta name="_su_rich_snippet_type" content="none" />
<meta name="views" content="495" />
<meta name="_wp_old_slug" content="" />
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">plink -ssh -D 7070 -P 22 -pw &quot;$1&quot; freessh@a.freessh.us</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2010/05/24/architect/design-patten/2010-05-24-design-pattern-chain-reponsibility/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2010/05/24/architect/design-patten/2010-05-24-design-pattern-chain-reponsibility/" class="post-title-link" itemprop="url">Design Pattern CHAIN of Reponsibility</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2010-05-24 00:00:00" itemprop="dateCreated datePublished" datetime="2010-05-24T00:00:00+08:00">2010-05-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 23:03:16" itemprop="dateModified" datetime="2023-10-05T23:03:16+08:00">2023-10-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/architect/" itemprop="url" rel="index"><span itemprop="name">architect</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>2k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>2 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <meta name="_edit_last" content="1" />
<meta name="_su_description" content="design pattern CHAIN of reponsibility" />
<meta name="_su_keywords" content="design pattern CHAIN of reponsibility" />
<meta name="_su_title" content="design pattern CHAIN of reponsibility" />
<meta name="views" content="603" />
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">#include&amp;lt;cstdio&amp;gt;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line">namespace pattern&#123;</span><br><span class="line">	/// this pattern links all handler as a line, if previous handler can process a request, it wil not be</span><br><span class="line">	/// send to next handler. For example, if someone requested changing programming style, </span><br><span class="line">	/// this decision will be made by a programmer. </span><br><span class="line">	/// He will change his programming style without noticing his lead. </span><br><span class="line">	/// But if someone request changing the requirements, the programmer can not make this decision. </span><br><span class="line">	/// He will noticing his lead, and make his lead decided.</span><br><span class="line"></span><br><span class="line">	/// this is request class.</span><br><span class="line">	#define STYLE 0</span><br><span class="line">	#define REQIREMENT 1</span><br><span class="line">	class Request&#123;</span><br><span class="line">		public:</span><br><span class="line">			int type; // changing programming style or changing requirements?</span><br><span class="line"></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	/// this class for processing request.</span><br><span class="line">	class Handler&#123;</span><br><span class="line">	private:</span><br><span class="line">		Handler* parent;</span><br><span class="line">	public:</span><br><span class="line">		Handler(Handler* p):parent(p)&#123;&#125;</span><br><span class="line">		virtual bool DoHandle(Request&amp;amp; r)=0;</span><br><span class="line">		void Process(Request&amp;amp; r);</span><br><span class="line">		virtual ~Handler()&#123;&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	void Handler::Process(Request&amp;amp; r)&#123;</span><br><span class="line">		if(!this-&amp;gt;DoHandle(r) &amp;amp;&amp;amp; NULL != parent)&#123;</span><br><span class="line">			parent-&amp;gt;Process(r);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	class Programmer: public Handler&#123;</span><br><span class="line">		public:</span><br><span class="line">		Programmer(Handler* p):Handler(p)&#123;&#125;</span><br><span class="line">		virtual bool DoHandle(Request&amp;amp; r);</span><br><span class="line"></span><br><span class="line">	&#125;;</span><br><span class="line">	bool Programmer::DoHandle(Request&amp;amp; r)&#123;</span><br><span class="line">		if(r.type == STYLE)&#123;</span><br><span class="line">			printf(&quot;programmer: I can process changing programming style\n&quot;);</span><br><span class="line">			return true;</span><br><span class="line">		&#125;else&#123;</span><br><span class="line">			printf(&quot;programmer: I can not process this request. I will report this to my lead!\n&quot;);</span><br><span class="line">			return false;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	class Lead:public Handler&#123;</span><br><span class="line">		public:</span><br><span class="line">		Lead(Handler* p):Handler(p)&#123;&#125;</span><br><span class="line">		virtual bool DoHandle(Request&amp;amp; r);</span><br><span class="line"></span><br><span class="line">	&#125;;</span><br><span class="line">	bool Lead::DoHandle(Request&amp;amp; r)&#123;</span><br><span class="line">		if(r.type == REQIREMENT)&#123;</span><br><span class="line">			printf(&quot;lead: I will process changing reqirements\n&quot;);</span><br><span class="line">			return true;</span><br><span class="line">		&#125;</span><br><span class="line">		return false;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">	pattern::Lead lead((pattern::Handler*)NULL);</span><br><span class="line">	pattern::Programmer programmer(&amp;amp;lead);</span><br><span class="line">	pattern::Request r;</span><br><span class="line">	r.type = STYLE;</span><br><span class="line">	programmer.Process(r);</span><br><span class="line">	r.type = REQIREMENT;</span><br><span class="line">	programmer.Process(r);</span><br><span class="line">	return 0;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/24/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/24/">24</a><span class="page-number current">25</span><a class="page-number" href="/page/26/">26</a><span class="space">&hellip;</span><a class="page-number" href="/page/80/">80</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/26/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2017 – 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">帐前卒</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>Word count total: </span>
    <span title="Word count total">1.6m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>Reading time total &asymp;</span>
    <span title="Reading time total">24:23</span>
  </span>
</div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.18.1/source/js/comments.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.18.1/source/js/utils.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.18.1/source/js/motion.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.18.1/source/js/next-boot.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.18.1/source/js/bookmark.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.1/dist/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.18.1/source/js/third-party/search/local-search.min.js"></script>







  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css" integrity="sha256-3574TpfThVfeAhg+I4+N39EJiLN3QUkuEsMVe8hWAR4=" crossorigin="anonymous">


<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"chilly/blog_comments","issue_term":"url","theme":"github-dark"}</script>
<script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.18.1/source/js/third-party/comments/utterances.min.js"></script>

</body>
</html>
