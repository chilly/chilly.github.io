<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.ico">
  <link rel="mask-icon" href="/icon.svg" color="#222">
  <meta name="google-site-verification" content="hcdiytqUGPoTW0eAaN6TWAmRfiv7IWFIIc9DKNr7Eno">
  <meta name="yandex-verification" content="eb8f01295fdccb3d">
  <meta name="baidu-site-verification" content="QoJxa8tZnO">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Times+New+Roman:300,300italic,400,400italic,700,700italic%7CRaleway:300,300italic,400,400italic,700,700italic%7COswald:300,300italic,400,400italic,700,700italic%7CWork+Sans:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"chillyc.info","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.18.1","exturl":true,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":true,"nav":null,"activeClass":"utterances"},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":20,"unescape":false,"preload":false}}</script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.18.1/source/js/config.min.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="帐前卒专栏">
<meta property="og:url" content="http://chillyc.info/page/3/">
<meta property="og:site_name" content="帐前卒专栏">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="帐前卒">
<meta property="article:tag" content="有意思的代码，有意思的架构, 有趣的小说, 好看的故事, code, software, articles, novel, architect">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://chillyc.info/page/3/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/3/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>帐前卒专栏 - code, software architect, articles and novels.<br/>代码，软件架构，博客和小说</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/rss2.xml" title="帐前卒专栏" type="application/rss+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <!-- Global site tag (gtag.js) - Google Analytics start -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-11621532-3"></script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6565392687771630"
     crossorigin="anonymous"></script>
<script>
  window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-11621532-3');
</script>
 <!-- Global site tag (gtag.js) - Google Analytics end -->
  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">帐前卒专栏</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">code, software architect, articles and novels.<br/>代码，软件架构，博客和小说</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li><li class="menu-item menu-item-feeds"><a href="/rss2.xml" rel="section"><i class="fa fa-feed fa-fw"></i>feeds</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="帐前卒"
      src="/icon.svg">
  <p class="site-author-name" itemprop="name">帐前卒</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">793</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">739</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2NoaWxseQ==" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;chilly"><i class="fab fa-github fa-fw"></i>GitHub</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS9jY3R0XzE=" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;cctt_1"><i class="fab fa-twitter fa-fw"></i>Twitter</span>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLW5kLzQuMC8="><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/big/by_nc_nd.svg" alt="Creative Commons"></span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2016/03/28/50995490/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2016/03/28/50995490/" class="post-title-link" itemprop="url">Fastjson 定制化解析</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2016-03-28 10:28:00" itemprop="dateCreated datePublished" datetime="2016-03-28T10:28:00+08:00">2016-03-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:41:45" itemprop="dateModified" datetime="2023-10-05T12:41:45+08:00">2023-10-05</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>3.8k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>3 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>最近写了一个简单的定制解析。</p>
<p>fastjson 解析 Map key value时有bug.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public static class KVPair&lt;K,V&gt; &#123;</span><br><span class="line">        private K key;</span><br><span class="line">        private V value;</span><br><span class="line">        public KVPair()&#123;&#125;</span><br><span class="line">        public KVPair(K key, V value)&#123;</span><br><span class="line">            this.key = key;</span><br><span class="line">            this.value = value;</span><br><span class="line">        &#125;</span><br><span class="line">        public K getKey() &#123;</span><br><span class="line">            return key;</span><br><span class="line">        &#125;</span><br><span class="line">        public void setKey(K key) &#123;</span><br><span class="line">            this.key = key;</span><br><span class="line">        &#125;</span><br><span class="line">        public V getValue() &#123;</span><br><span class="line"></span><br><span class="line">            return value;</span><br><span class="line">        &#125;</span><br><span class="line">        public void setValue(V value) &#123;</span><br><span class="line">            this.value = value;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>这是一个简单的 KeyValue 类。这个类被fastjson解析出来的结果是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">        KVPair&lt;String, String&gt; kv = new KVPair&lt;String, String&gt;(&quot;aaa&quot;, &quot;bbb&quot;);</span><br><span class="line">        System.out.println(JSON.toJSONString(kv));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">输出结果为：</span><br><span class="line">&#123;&quot;key&quot;:&quot;aaa&quot;,&quot;value&quot;:&quot;bbb&quot;&#125;</span><br></pre></td></tr></table></figure>
<p>在fastjson 1.1.23 版本时， 只要改动一下 setValue() 这个方法，就可以得到这样的解析结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">改动后的 setValue(V value) 方法为：</span><br><span class="line"></span><br><span class="line">public V setValue(V value) &#123;</span><br><span class="line">      this.value = value;</span><br><span class="line">      return this.value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">输出结果为：</span><br><span class="line">&#123;&quot;aaa&quot;:&quot;bbb&quot;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>这明显是 fastjson的bug。所以在1.1.46版本，已经不存在这个问题了。不管如何变化 setValue()函数，最后的输出结果仍然为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">输出结果：</span><br><span class="line">&#123;&quot;key&quot;:&quot;aaa&quot;,&quot;value&quot;:&quot;bbb&quot;&#125;</span><br></pre></td></tr></table></figure>
<p>现在问题来了。我更希望解析为下面的这种。 ```</p>
<pre><code>&#123;&quot;aaa&quot;:&quot;bbb&quot;&#125;
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">这样占用的资源更少，并且也很清楚的表达了意思。这怎么写？fastjson提供的specialConfig 来提供特殊的序列化配置。  </span><br><span class="line">首先我们先对这个class创建一个特殊的序列化方法：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>public static final SerializeConfig JSON_WRITE_CONFIG = new SerializeConfig();
    static &#123;
        JSON_WRITE_CONFIG.put(KVPair.class, new KVPairSerailzer());
    &#125;
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">然后我们来构造这个特殊的序列化类：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>public class KVPairSerailzer implements ObjectSerializer&#123;

    @SuppressWarnings(&quot;rawtypes&quot;)
    @Override
    public void write(JSONSerializer serializer, Object object, Object fieldName, Type fieldType) throws IOException &#123;
        
        SerializeWriter out = serializer.getWriter();
        if (object ==null) &#123;
            return ;
        &#125;
        KVPair pair = (KVPair)object; 
        out.write(&quot;&#123;&quot;);
        write(out,pair.getKey());
        out.write(&quot;:&quot;);
        write(out,pair.getValue());
        out.write(&quot;&#125;&quot;);
    &#125;
    
    public void write(SerializeWriter out, Object value) &#123;
        if (value == null) &#123;
            return;
        &#125; else if (value instanceof Integer) &#123;
            out.writeInt((Integer)value);
        &#125; else if (value instanceof Long) &#123;
            out.writeLong((Long)value);
        &#125; else if (value instanceof String) &#123;
            out.write(&quot;\&quot;&quot;);
            out.write((String)value);
            out.write(&quot;\&quot;&quot;);
        &#125; else if (value instanceof Double) &#123;
            out.write(Double.toString((Double)value));
        &#125; else if (value instanceof Float) &#123;
            out.write(Float.toString((Float)value));
        &#125; else &#123;
            throw new RuntimeException(&quot;not support value:&quot;+value);
        &#125;
    &#125;

&#125;
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">fastjson的逻辑是： 开始要传入一个序列化配置。这个序列化配置中有针对各个类如何进行序列化的子类(也就是映射关系)。如果我们将JSON_WRITE_C</span><br><span class="line">ONFIG传入到序列化过程中，那么针对 KVPair.class这个类，就可以使用KVPairSerialzer()进行序列化。KVPairSerialze</span><br><span class="line">r在这个类需要继承ObjectSerializer, 重要的是重构这个方法：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>public void write(JSONSerializer serializer, Object object, Object fieldName, Type fieldType)
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">这里只要获取  serializer  .getWriter()，然后将序列化后的字符串写入到writer中就结束了。SerializerWriter</span><br><span class="line">其实就是一个可变长char数组,细节没有什么好讲的。</span><br><span class="line"></span><br><span class="line">另外 1.1.46 之前的版本如果不希望将某些field不放在序列化后的json中，需要加入一个</span><br><span class="line">实现了PropertyPreFilter的类才行。例如下面这个类：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>public class FieldJsonIgnoreFilter implements PropertyPreFilter  &#123;
    private Set&lt;String&gt; excludes;

    @Override
    public boolean apply(JSONSerializer serializer, Object object, String name) &#123;
        if(object instanceof ComputerCluster) &#123;
            return !excludes.contains(name);
        &#125;
        return true;
    &#125;
    public FieldJsonIgnoreFilter() &#123;
        this.excludes = Sets.newHashSet();
        
    &#125;
    public void add(String excludeFieldName) &#123;
        excludes.add(excludeFieldName);
    &#125;
    
    public static final FieldJsonIgnoreFilter FIELD_JSON_IGNORE_FILTER = new FieldJsonIgnoreFilter();
    static &#123;
        FIELD_JSON_IGNORE_FILTER.add(&quot;aaa&quot;);  // 如果fieldName 为 aaa 则不进行序列化。
        FIELD_JSON_IGNORE_FILTER.add(&quot;bbb&quot;);
        FIELD_JSON_IGNORE_FILTER.add(&quot;ccc&quot;);
        
    &#125;
&#125;
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1.1.46版本之后只需要在在field上面加入Annotation.就可以实现上面的效果。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>@JSONField(serialize=false)
private String aaa;
</code></pre>
<pre class="highlight"><code class="">
</code></pre>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2016/01/26/50589867/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2016/01/26/50589867/" class="post-title-link" itemprop="url">充满BUG的世界观——再遇Java内存泄露</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2016-01-26 22:29:00" itemprop="dateCreated datePublished" datetime="2016-01-26T22:29:00+08:00">2016-01-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:41:45" itemprop="dateModified" datetime="2023-10-05T12:41:45+08:00">2023-10-05</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>3.1k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>3 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>发现内存泄露除了仔细看代码的确没有太好的方法。首先看gc log, 确定是内存泄露，而不是内存不够。内存泄露的特点就是以每次Full<br />
GC后使用的最低内存为起点，拟合一条线。如果这条线是随时间递增的一条曲线，那么很大程度上代表着内存泄露。</p>
<p>然后使用 jmap -histo [pid] 来查看你的所有对象所占内存的比例。你可能很不幸的发现[B 这个byte数组对象占用了绝大多数。这的确没有更好的<br />
方法了。只能一点点的看代码。检查一下有没有写成循环的地方。检查一下有没有申请的内存没有释放。检查一下全局变量或者单例中的map啥的。最后，你大概只能以怀疑一<br />
切的态度检查所有的代码。</p>
<p>ok. 下面以八卦的方式讲讲我这次遇到的内存泄露（memory leak).</p>
<p>这几天一直在写一个入库组件。这个组件的目的就是解析传输过来的数据，并写入到数据库中。嗯。听起来很简单。但是解析格式比较复杂，而且还要使用某种特定的计算公式进<br />
行去重处理。另外解析的数据需要以上千条记录的形式输入到数据库中。嗯，为什么会这样设计呢？因为历史遗留问题。。。嗯历史遗留问题这几个字非常管用。不管放在什么语<br />
境中，反正觉得困难就可以说历史遗留问题。其实是为了小步快跑，慢慢申请时间。上头大概不会有人希望你这模块做大半年还没有做来。希望你这么做的，大概都是你的死敌。</p>
<p>好吧上面就历史背景。在这个背景下。我这边入库组件，写了一个分布式的，多线程解析，多线程批量入库的代码。本来觉得这种设计挺好。但是因为gap lock,<br />
多线程和分布式的问题，批量写总是在不知不觉中造成死锁。为了代码的精简，为了不引入更多的问题，索性将批量写改为了单条写。</p>
<p>好了，这下memory leak问题来了。难道是因为之前都死锁了，所以memory leak 就没有暴露出来？ 有可能哦~</p>
<p>先看一下gc log。为啥是memory leak。看一下下图。其中蓝线的是内存使用情况。蓝线的最低点是每次Full GC<br />
带来的内存大量释放。GC的最低点你可以看到是不断增加的。所以很大的可能是内存泄露。</p>
<p>![](<span class="exturl" data-url="aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTYwMTI2MjE0NjQ4OTUzP3dhdGVybWFyay8yL3RleHQvYUhSMGNEb3ZMMkpzYjI=">http://img.blog.csdn.net/20160126214648953?watermark/2/text/aHR0cDovL2Jsb2<i class="fa fa-external-link-alt"></i></span><br />
cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravit<br />
y/Center)<br />
为什么说很大可能是内存泄露呢？不同的程序有不同的内存使用模式。比如说我的程序中有一个大map.<br />
这个map会不断的填充数据。但是数据集是有限的。但是这个map在最终填充完毕前，内存的使用量会不断的增长。如果内存不够了，仍然会有outofmemory 错<br />
误,并且那个gc的图和我给的gc图会很像。这不代表这内存泄露，这只能说内存不够用。但是这需要先证明数据集是有限的，并且系统空闲内存可以完全放入这个数据集。否<br />
则你只能采取其他方法来防范内存不够用的情况。</p>
<p>好吧。我看到这个图。感觉是内存泄露。为啥？因为我的数据集有限，并且粗略算了一下也不大。即使有缓存计算的策略存在，这些空间仍然不会造成outofMemory的<br />
现象。那到底是什么原因？先使用一下jmap -histo [pid]. 看了一下比例。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> num     #instances         #bytes  class name</span><br><span class="line">----------------------------------------------</span><br><span class="line">   1:      21571308     1163654064  [B</span><br><span class="line">   2:       1770275      125384008  [I</span><br><span class="line">   3:       1715985      120562976  [[B</span><br><span class="line">   4:       1715382      120535928  [Ljava.io.InputStream;</span><br><span class="line">   5:       3430930      109789592  [Z</span><br><span class="line">   6:       1715198       68607920  com.mysql.jdbc.PreparedStatement$BatchParams</span><br><span class="line">   7:        621372       44778960  [C</span><br><span class="line">   8:         59015       11608344  [Ljava.lang.Object;</span><br><span class="line">   9:        469551       11269224  java.lang.String</span><br><span class="line">  10:        335730        8057520  org.dom4j.tree.DefaultAttribute</span><br><span class="line">  11:         76733        2455456  org.dom4j.tree.DefaultElement</span><br><span class="line">  12:         49621        2376880  [Ljava.lang.String;</span><br><span class="line">  13:         47685        1525920  java.util.HashMap$Node</span><br><span class="line">  14:         41482        1327424  com.paratera.importdata.CacheKeys</span><br><span class="line">  15:         46753        1122072  java.lang.StringBuilder</span><br><span class="line">  16:         44715        1073160  java.util.ArrayList</span><br><span class="line">  17:         32577        1042464  java.util.concurrent.ConcurrentHashMap$Node</span><br><span class="line">  18:         40990         983760  java.lang.Long</span><br><span class="line">  19:         13911         667728  java.nio.HeapCharBuffer</span><br><span class="line">  20:         13832         663936  java.nio.HeapByteBuffer</span><br><span class="line">  21:         24729         593496  java.lang.StringBuffer</span><br><span class="line">  22:         13476         539040  [Ljava.util.Formatter$Flags;</span><br></pre></td></tr></table></figure>
<p>哦哦哦~排名第一的是byte[] , 我X. 其实根本查不出来是什么原因。除非你的代码里，很多 new byte[]. 否则使用byte[]<br />
基本是你的调用的各种组件里的byte[]. 好吧。现在的怀疑的对象扩展到了自己的全部组件。。</p>
<p>前五名都看不出任何问题。直到第六名。</p>
<p>![](<span class="exturl" data-url="aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTYwMTI3MTExODAwMjE0P3dhdGVybWFyay8yL3RleHQvYUhSMGNEb3ZMMkpzYjI=">http://img.blog.csdn.net/20160127111800214?watermark/2/text/aHR0cDovL2Jsb2<i class="fa fa-external-link-alt"></i></span><br />
cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravit<br />
y/Center)<br />
就是这货。这货的变量里 byte[] byte[][] , int[] ， InputStream[]<br />
排名前几的都有！！！不用说了。一定是这货。这货就是mysql jdbc执行 addBatch() 放入的。然后我细细看了一下代码。发现<br />
executeBatch() 调用才会清理了 addBatch()中的 BatchParam,<br />
如果只是调用了execute()方法，则写入数据库时不会清理BatchParam.<br />
所以还是之前将批量入库转换为单条数据入库导致的。只将executeBatch()改为了execute()，<br />
虽然功能上立马变成了单条数据入库。但实际上却直接引入了内存泄露问题。</p>
<p>当然因为代码封装/函数化的问题， addBatch() 和 executeBatch()<br />
被放入到了不同的函数中。。。。所以再次自己挖坑自己埋。自己掉坑里，一定是自己之前坑挖的不对。最后的解决方法也很简单。将addBatch()去掉就立马好了。</p>
<p>好了。。。。写的多了。。。天晚了。。。洗洗睡去了。。。</p>
<p>** 哦对了。打条公司信息，有想加入【并行科技】java团队的发简历到hr@paratera.com（请注明来源，方便过hr关）.  公司只做高大上的超算/高性能计算的 toB  toG 业务，不做 toC业务。待遇不是问题。问题是你到底值不值你要的待遇。。。 **</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2015/12/22/50378249/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/12/22/50378249/" class="post-title-link" itemprop="url">吐槽下——火星救援</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-12-22 10:38:00" itemprop="dateCreated datePublished" datetime="2015-12-22T10:38:00+08:00">2015-12-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:41:45" itemprop="dateModified" datetime="2023-10-05T12:41:45+08:00">2023-10-05</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>1.4k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>1 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>下面是火星救援的影评：</p>
<p>这是一部在火星的衣食住行手册。旨在讲述各种设备如何的不靠谱以及如何使用人类智慧驾驭这些不靠谱的设备。</p>
<p>这个影片和各种好莱坞大片一样。故事的叙述方式也一模一样。</p>
<p>图片太耗资源了。。省略了。</p>
<p>故事是这样叙述的：</p>
<p>1. 我们制造一个问题（来点暴风/吹飞一个人）</p>
<p>2. 解决这个问题（全队撤离）</p>
<p>3. 解决这个问题产生一个结果（这个被吹飞的人没死，还健康的活在火星上）</p>
<p>4. 这个结果又产生了问题（这个人怎么活在火星上，怎么营救）</p>
<p>5. 怎样解决这个问题（水，氧气，食物，温度，电力，通信，交通）</p>
<p>6. 问题都解决了。来让我们制造新的问题。（新的远航火箭报废，食物循环报废）</p>
<p>7. 解决新的问题。（中国太阳神，弹弓效应缩短时间，启用已经在火星上的战神4火箭）</p>
<p>8. 推向高潮，如何推？快速制造问题，快速解决问题。（火箭超重=&gt;敞蓬车，距离太远=&gt; 空气喷射）</p>
<p>9. 再加点猛料(上天后陷入昏迷；航天器爆破；破手套空气喷射手忙脚乱；最后营救时，不管速度多慢死活不能一次抓住）</p>
<p>10. 结局</p>
<p>故事这种叙述方式就是</p>
<p>问题=&gt; 解决问题=&gt; 后果（坏） 则继续解决问题；后果（好）则制造点新的问题。一步步推进，直到结局。不过高潮时一定要快速的制造和解决问题。</p>
<p>下面到了影片的吐槽时间：</p>
<p>你们知道吗？使用超级计算机不用一直连着网线，作业提交后就不用再管，直到算出结果后看两眼。而且像他这种权限的根本不能进入到超级计算机的机房中。对了，公司最近做<br />
了一款应用ParaAlarm，可以在手机上跟踪提交到超算系统中的作业状态。下载二维码在这里：</p>
<p>![](<span class="exturl" data-url="aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTUxMjIyMTAzNTExMzMxP3dhdGVybWFyay8yL3RleHQvYUhSMGNEb3ZMMkpzYjI=">http://img.blog.csdn.net/20151222103511331?watermark/2/text/aHR0cDovL2Jsb2<i class="fa fa-external-link-alt"></i></span><br />
cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravit<br />
y/Center)<br />
你们知道吗？这种发射火箭的大项目都不用测试。这就是找死。做软件的都知道。</p>
<p>你们知道吗？全队成员都飞回去了，怎么还留给你几百吨的氢气呢？</p>
<p>你们知道吗？如果气压都能把气仓炸飞，那怎么可能用塑料布就可以密封了？早知道这样，都用塑料带布搭建基地就可以了呀。</p>
<p>你们知道吗？中国的火箭根本不会叫太阳神号。因为太阳神是西方崇拜的神。中国从来不崇拜太阳。有的就只有金乌这种鸟，并且还要让后羿射下来几个。所以火箭绝对不会叫太<br />
阳神，那一定会被射下来的。而且我觉得可能是在哪个国家上映就在哪个国家播使用那个国家的火箭。比如在印度播出的话，那些片段就会变成印度的太阳神火箭。</p>
<p>不过那个宇航员不管是胖变瘦还是瘦变胖，还是很令人佩服的(LP说使用的是替身…恕我眼瞎)。在开始没有多久，土豆发芽的一幕还是挺不错。最后营救时两个宇航员死<br />
活抓不住还是很令人揪心的。</p>
<p>另外电影要下架了。最后再贴张海报吧。</p>
<p>![](<span class="exturl" data-url="aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTUxMjIyMTAzNTQ4NzQzP3dhdGVybWFyay8yL3RleHQvYUhSMGNEb3ZMMkpzYjI=">http://img.blog.csdn.net/20151222103548743?watermark/2/text/aHR0cDovL2Jsb2<i class="fa fa-external-link-alt"></i></span><br />
cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravit<br />
y/Center)</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2015/11/01/49556925/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/11/01/49556925/" class="post-title-link" itemprop="url">网易有道离职记</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-11-01 11:44:00" itemprop="dateCreated datePublished" datetime="2015-11-01T11:44:00+08:00">2015-11-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:41:45" itemprop="dateModified" datetime="2023-10-05T12:41:45+08:00">2023-10-05</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>1.7k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>2 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>从网易有道离职一段时间了。LP和tt都说最好不要写前公司的总结，写好写坏总有人来找茬。但是我想这毕竟是个人的观点和看法，代表着自己这些年的观点。自己应该总结<br />
一下，与他人无关。可能再过多少年回顾一下，也会觉得荒谬无比。</p>
<p>网易有道之前是一家不错的公司。但是近几年不知道是产品不给力还是管理层的问题。整个公司的状态越来越不好。员工很难撑过3年。这里并不是黑网易有道。网易有道里的人<br />
都很不错。只不过很多人从网易有道出来后，才有了更大的成就。嗯…这是为什么呢?</p>
<p>之前一直在有道云笔记组做server端码农。做了许多没人用的功能，然后做的心累了，然后就离开了。可能笔记的老大最近也做累了，也离开了。大概大家都累了吧，笔记<br />
团队的核心成员换了一茬又一茬。之前cloudstorage的初创成员一个都不在了。细细想想可能是产品一直无法盈利。做一款有用但是无法盈利的产品对公司长远发展<br />
可能有好处。但是对员工的近期发展实在没有啥优势。因为人员不能扩张，老员工难以升职加薪。不过后来也和盈利团队的成员聊了聊。结果发现盈利团队的成员也各有各的不满<br />
。嗯…这到底是为什么呢？</p>
<p>嗯。以上答案只有还在网易有道的管理层自己摸索了。</p>
<p>有道云笔记一直在做竞争对手evernote的功能。一直在按照符合国情的方式抄袭，并不考虑颠覆的事情。只有后来做协同办公才算和evernote走上了不同的路。<br />
虽然原型还是slack，tower, QQ等，但在这些原型上已有些突破。可是不知道为什么后来没有坚持此策略，又回到了笔记上来，又准备加一些华而不实的功能。我<br />
自己认为做软件需要将一款软件细致打磨，做到极致，或者颠覆创新开创新纪元。但是不停的堆功能是怎么回事？</p>
<p>说到堆功能，在这里再黑黑PM。还是少招吧。堆功能大概是PM的本职工作。在我的圈子里从没有PM每天想着优化功能，减少功能。一个PM想需求的速度肯定是一个程序员<br />
编写代码的数倍。要么降低创造需求的速度，要么扩招程序员。管理者需要自己权衡。PM的需求来源，我知道的有几个：</p>
<ul>
<li>
<p>用户评价反馈（一般以负面反馈为准）一般可以推动程序优化</p>
</li>
<li>
<p>用户调研</p>
</li>
<li>
<p>业界行业标杆（evernote )</p>
</li>
<li>
<p>用户数据统计分析 （特征分析）+PM主观臆想</p>
</li>
<li>
<p>boss的直接拍板</p>
</li>
<li>
<p>对外资源置换 （合作方需求）</p>
</li>
<li>
<p>推广活动<br />
所以说需求来源真是太多了。PM需要有整个需求进程的把控吗？哦…圈内的PM经常连功能什么时候上线的都不知道。认真的PM真是圈内稀缺，虎头蛇尾的PM多见。<br />
吐槽完毕。下面是知识点：</p>
</li>
<li>
<p>在网易有道认识了许多人，交到许多朋友。膜拜了许多精英。知识面，视野比入职时开阔许多。</p>
</li>
<li>
<p>有时间多多搜索，少请教。没时间多多请教，少搜索。</p>
</li>
<li>
<p>公司组件的存活周期可能比开源项目还要短。公司一定要有组件维护组才行。</p>
</li>
<li>
<p>一定要code review, 一定要有良好的编码风格。一定要保持代码的整洁。</p>
</li>
<li>
<p>一定要print和用户相关的log。特别是做互联网应用的</p>
</li>
<li>
<p>一定要尽早测试，测试的testcase的范围是上次上线的功能和这次上线的功能。</p>
</li>
<li>
<p>一定要开发白天可以上线的server程序。发布尽量工作时间做。</p>
</li>
<li>
<p>服务代码要精简，需要大量共用组件，每个功能的开发最好不要牵扯到其他项目的开发。保持船小好调头。</p>
</li>
<li>
<p>有条件做压测，没有条件就线上压测吧。</p>
</li>
<li>
<p>要有人对需求约束负责。很多约束条件在开发初期就要定下来。千万不要说可以放无限多的内容，无字数限制，无大小限制，可以承载无限大的压力这样的话。</p>
</li>
<li>
<p>公司如果在走下坡路，走法有断崖式和缓坡式。各有利弊请自主选择。但不要每次开会只说好事不说坏事。</p>
</li>
<li>
<p>贵司每半年的考核非常烂，我非常抵制。考核应尽量简单。另外不管怎么考核，这些考核永远是主观的。升职加薪本来就是看个人能力，而这事主管心里是清楚的。</p>
</li>
<li>
<p>不要简单堆砌功能。功能在精不在多。请回顾一下庞大的功能，其中80%的功能都应该被砍掉。</p>
</li>
<li>
<p>应从公司的技术层面进行战略部署，而不是每个项目和产品各自为战。</p>
</li>
<li>
<p>公司在开发者机器上的配置上不要抠门，机器速度/网速是保持开发者良好心态的关键。</p>
</li>
<li>
<p>公司需要尽量配置可以翻墙的网络。</p>
</li>
<li>
<p>公司对研发成员不要实行打卡制。</p>
</li>
<li>
<p>公司对员工应不时发些福利。不患寡而患不均。<br />
看了一下访问量。。。发现大家的确喜欢看八卦～~ 看客们有感想写在下面的评论里吗？</p>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2015/03/28/44654639/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/03/28/44654639/" class="post-title-link" itemprop="url">JS 实现UML序列图 （二）-- Csdn MarkDown 第七篇 技术篇</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-03-28 21:10:00" itemprop="dateCreated datePublished" datetime="2015-03-28T21:10:00+08:00">2015-03-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:41:45" itemprop="dateModified" datetime="2023-10-05T12:41:45+08:00">2023-10-05</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>3k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>3 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>上一篇大概说了一下JS是怎么画UML 图形的。<br />
这一篇简单介绍一下这个JS 解析 UML语法是怎么实现的。<br />
<a target="_blank" rel="noopener" href="https://github.com/bramp/js-sequence-diagrams/blob/master/src/grammar.ebnf"> https://github.com/bramp/js-sequence-diagrams/blob/master/src/grammar.ebnf<br />
</a><br />
这个是Markdown UML语言的语法结构。摘抄了部分：<br />
这一部分是将词和词组成语句。而语句和语句就组成篇章。</p>
<pre><code>document ::= statement*
statement ::=
( 'title' ':' message
| 'participant' actor
| 'note' ('left of' | 'right of' | 'over') actor ':' message
| actor ( '-' | '--' ) ( '&gt;' | '&gt;&gt;' )? actor ':' message
)
</code></pre>
<p>这里的意思是 UML是由 statement（语句）构成的。<br />
statement有下面几种表示方法：<br />
1. ‘title’ ‘:’ message 这里带上”的都是token,在编译原理中，token标识不能再被解释的词。<br />
2. ‘participant’ actor<br />
3. ‘note’ (‘left of’ | ‘right of’ | ‘over’) actor ‘:’ message<br />
表示note与Actor之间的关系<br />
4. actor ( ‘-’ | ‘–’ ) ( ‘&gt;’ | ‘&gt;&gt;’ )? actor ‘:’ message 标识actor之间的关系。</p>
<p>下面的词法分析会将字符转换为UML中有含义的字。类似字符组成词。用正则式将字母变成有含义的词。</p>
<pre><code>/** js sequence diagrams
 *  http://bramp.github.io/js-sequence-diagrams/
 *  (c) 2012-2013 Andrew Brampton (bramp.net)
 *  Simplified BSD license.
 */
%lex

%options case-insensitive

%&#123;
    // Pre-lexer code can go here
%&#125;

%%

[\n]+             return 'NL';
\s+               /* skip whitespace */
\#[^\n]*          /* skip comments */
&quot;participant&quot;     return 'participant';
&quot;left of&quot;         return 'left_of';
&quot;right of&quot;        return 'right_of';
&quot;over&quot;            return 'over';
&quot;note&quot;            return 'note';
&quot;title&quot;           return 'title';
&quot;,&quot;               return ',';
[^\-&gt;:\n,]+       return 'ACTOR';
&quot;--&quot;              return 'DOTLINE';
&quot;-&quot;               return 'LINE';
&quot;&gt;&gt;&quot;              return 'OPENARROW';
&quot;&gt;&quot;               return 'ARROW';
:[^#\n]+          return 'MESSAGE';
&lt;&lt;EOF&gt;&gt;           return 'EOF';
.                 return 'INVALID';

/lex

%start start

%% /* language grammar */

start
    : document 'EOF' &#123; return yy; &#125;
    ;

document
    : /* empty */
    | document line
    ;

line
    : statement &#123; &#125;
    | 'NL'
    ;

statement
    : 'participant' actor  &#123; $2; &#125;
    | signal               &#123; yy.addSignal($1); &#125;
    | note_statement       &#123; yy.addSignal($1); &#125;
    | 'title' message      &#123; yy.setTitle($2);  &#125;
    ;

note_statement
    : 'note' placement actor message   &#123; $$ = new Diagram.Note($3, $2, $4); &#125;
	| 'note' 'over' actor_pair message &#123; $$ = new Diagram.Note($3, Diagram.PLACEMENT.OVER, $4); &#125;
    ;

actor_pair
    : actor             &#123; $$ = $1; &#125;
	| actor ',' actor   &#123; $$ = [$1, $3]; &#125;
    ;

placement
    : 'left_of'   &#123; $$ = Diagram.PLACEMENT.LEFTOF; &#125;
	| 'right_of'  &#123; $$ = Diagram.PLACEMENT.RIGHTOF; &#125;
    ;

signal
    : actor signaltype actor message
    &#123; $$ = new Diagram.Signal($1, $2, $3, $4); &#125;
    ;

actor
    : ACTOR &#123; $$ = yy.getActor($1); &#125;
    ;

signaltype
    : linetype arrowtype  &#123; $$ = $1 | ($2 &lt;&lt; 2); &#125;
	| linetype            &#123; $$ = $1; &#125;
    ;

linetype
    : LINE      &#123; $$ = Diagram.LINETYPE.SOLID; &#125;
	| DOTLINE   &#123; $$ = Diagram.LINETYPE.DOTTED; &#125;
    ;

arrowtype
    : ARROW     &#123; $$ = Diagram.ARROWTYPE.FILLED; &#125;
	| OPENARROW &#123; $$ = Diagram.ARROWTYPE.OPEN; &#125;
    ;

message
    : MESSAGE &#123; $$ = $1.substring(1).trim().replace(/\\n/gm, &quot;\n&quot;); &#125;
    ;
%%
</code></pre>
<p>例如下面这一句：</p>
<pre><code>[^\-&gt;:\n,]+       return 'ACTOR';
</code></pre>
<p>就是将不是“-&gt;:\n,” 这些字符的多个字组成词，这个词叫做ACTOR.</p>
<p>一般来说终结符也就是类似’note’ 这样的字符需要先被定义。否则 ‘note’这样的字符集合就变成了markdown UML的ACTOR.</p>
<p>而下面的是将ACTOR词转成对象actor。</p>
<pre><code>actor
    : ACTOR &#123; $$ = yy.getActor($1); &#125;
    ;
    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A-&gt;B: 一句话证明你很寂寞。</span><br><span class="line">Note left of A: thinking</span><br><span class="line">B-&gt;B: counting</span><br><span class="line">B&gt;&gt;A: 这句话有一共六十九笔</span><br><span class="line">Note right of X: SB</span><br></pre></td></tr></table></figure>
</code></pre>
<p>Created with Raphaël 2.1.2  寂寞是什么  A  A  C  C  S  S  B  B  一句话证明你很寂寞。<br />
thinking  counting  这句话有一共六十九笔  SB</p>
<p>好吧上面就是UML的grammar. 其实用什么语言都可以写出来。不局限于JS. 具体grammar这块使用的是jison和ebnf.<br />
有闲空的人可以看一下JS调用jison来做js parser以及EBNF表达式。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2015/03/17/44357935/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/03/17/44357935/" class="post-title-link" itemprop="url">实现UML 序列图 -- Csdn MarkDown  第六篇 技术篇</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-03-17 23:06:00" itemprop="dateCreated datePublished" datetime="2015-03-17T23:06:00+08:00">2015-03-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:41:45" itemprop="dateModified" datetime="2023-10-05T12:41:45+08:00">2023-10-05</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>2.8k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>3 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>这一篇开始讨论代码层面的问题。主要是markdown的功能的设计实现。</p>
<p>这一篇先从markdown外围的代码开始讲起：<br />
UML序列图是从 <a target="_blank" rel="noopener" href="https://github.com/bramp/js-sequence-diagrams"> https://github.com/bramp/js-sequence-diagrams<br />
</a> copy得到的。</p>
<p>当如这个UML代码还用到了两个JS,功能库和画图.</p>
<pre><code>&lt;script src=&quot;underscore-min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;raphael-min.js&quot;&gt;&lt;/script&gt;
</code></pre>
<p>首先讲讲这个JS最核心的类：<br />
[ <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2JyYW1wL2pzLXNlcXVlbmNlLWRpYWdyYW1zL2Jsb2IvbWFzdGVyL3NyYy9zZXF1ZW5jZS0=">https://github.com/bramp/js-sequence-diagrams/blob/master/src/sequence-<i class="fa fa-external-link-alt"></i></span><br />
diagram.js ](<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2JyYW1wL2pzLXNlcXVlbmNlLWRpYWdyYW1zL2Jsb2IvbWFzdGVyL3NyYw==">https://github.com/bramp/js-sequence-diagrams/blob/master/src<i class="fa fa-external-link-alt"></i></span><br />
/sequence-diagram.js)</p>
<p>首先这个类分为其实使用两种风格的。一种就是现在CSDN采用的风格，叫做simple. 另外一种是手绘风格，叫做hand。定义如下：</p>
<pre><code>var themes = &#123;
simple : RaphaelTheme,
hand : HandRaphaelTheme
&#125;;
Diagram.prototype.drawSVG = function (container, options) &#123;
var default_options = &#123;
theme: 'hand'
&#125;;
options = _.defaults(options || &#123;&#125;, default_options);
if (!(options.theme in themes))
throw new Error(&quot;Unsupported theme: &quot; + options.theme);
var drawing = new themes[options.theme](this);
drawing.draw(container);
&#125;; // end of drawSVG
</code></pre>
<p>drawSVG是最外层JS要画图调用的方法。例如：</p>
<pre><code>&lt;div id=&quot;diagram&quot;&gt;Diagram will be placed here&lt;/div&gt;
&lt;script src=&quot;sequence-diagram-min.js&quot;&gt;&lt;/script&gt;
&lt;script&gt; 
  var diagram = Diagram.parse(&quot;A-&gt;B: Does something&quot;);
  diagram.drawSVG('diagram');
&lt;/script&gt;
</code></pre>
<p>下面就可以画出图形。所以drawSVG是核心入口。</p>
<p>drawSVG的实现过程中，最重要的一句：</p>
<pre><code>drawing.draw(container);
</code></pre>
<p>这一句调用的draw function定义如下：</p>
<pre><code>    draw : function(container) &#123;
        var diagram = this.diagram;
        this.init_paper(container);
        this.init_font();
        this.layout();
        var title_height = this._title ? this._title.height : 0;
        this._paper.setStart();
        this._paper.setSize(diagram.width, diagram.height);
        var y = DIAGRAM_MARGIN + title_height;
        this.draw_title();
        this.draw_actors(y);
        this.draw_signals(y + this._actors_height);
        this._paper.setFinish();
&#125;,
</code></pre>
<p>这几句看起来平淡无奇，就是初始化背景，初始化字体，初始化各种，然后画标题，画角色（也就是序列图中的实体），画调用箭头。</p>
<p>这里面看似简单，但是最为繁琐的就是:</p>
<pre><code>this.layout();
</code></pre>
<p>布局：要遍历所有的要画到画布上的东西，要提前预知，各个东西的长宽，然后根据长宽，各个东西相距的距离，算出画布的尺寸。这段JS并没有做到固定长宽后，各个东西等<br />
比缩放。</p>
<p>这个做完之后，开始画角色（也就是实体）</p>
<p>Created with Raphaël 2.1.2  A  A  这就是角色A  包括上下两个方块和中间的竖线</p>
<p>再然后，两个角色之间是有间距的。例如：</p>
<p>Created with Raphaël 2.1.2  距离是什么？  A  A  B  B  我们两个角色之间的间距  包括上下两个方块和中间的竖线</p>
<p>间距的计算并不是很容易，首先确定每个角色的基本的高和宽，然后根据将信号signal计算在内（signal 包括两种，一种是 箭头关系，另外一种是 注释框）所<br />
以大家可以看到注释框和箭头也是有从上到下的顺序的。signal的宽度和字的个数以及宽度均有关系(这里计算较为复杂，此处略去太多字…有兴趣的看源码)。</p>
<p>然后顺序遍历，依次确定A,B,C…各个角色所在的绝对坐标。</p>
<p>每一个signal都是有高度的，将所有的signal 高度加和，就得到了下端角色方框的坐标。然后连线就大功告成。</p>
<p>看源码发现了许多没有的功能…</p>
<p>例如 UML中增加title<br />
以及UML中注释框除了Right, Left, 还有Over, 对于Over还可以置于多个角色之上。</p>
<p>title 和 Over</p>
<pre><code><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">title: 距离是什么？</span><br><span class="line"></span><br><span class="line">A-&gt;B: 我们两个角色之间的间距</span><br><span class="line">Note Over A,B: 包括上下两个方块和中间的竖线</span><br><span class="line">Note Over A: I&#x27;m A</span><br></pre></td></tr></table></figure>
</code></pre>
<p>表现：</p>
<p>Created with Raphaël 2.1.2  距离是什么？  A  A  B  B  我们两个角色之间的间距  包括上下两个方块和中间的竖线<br />
I’m A</p>
<p>[ <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2JyYW1wL2pzLXNlcXVlbmNlLWRpYWdyYW1zL2Jsb2IvbWFzdGVyL3NyYy9qcXVlcnkt">https://github.com/bramp/js-sequence-diagrams/blob/master/src/jquery-<i class="fa fa-external-link-alt"></i></span><br />
plugin.js ](<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2JyYW1wL2pzLXNlcXVlbmNlLWRpYWdyYW1zL2Jsb2IvbWFzdGVyL3NyYw==">https://github.com/bramp/js-sequence-diagrams/blob/master/src<i class="fa fa-external-link-alt"></i></span><br />
/jquery-plugin.js)</p>
<p><img src="http://img.blog.csdn.net/20150317225017889" alt="这里写图片描述" /></p>
<p>这个类中，如果没有定义option属性，那么就只能用simple的形式了。感觉CSDN的dev好像没有定义这个option. 我这边也无能为力。</p>
<p><a target="_blank" rel="noopener" href="https://github.com/bramp/js-sequence-diagrams/blob/master/src/diagram.js%5D"> [ https://github.com/bramp/js-sequence-diagrams/blob/master/src/diagram.js]<br />
</a><br />
这个类没有什么好讲的，就是通过parser构造出来的实体类。</p>
<p>剩下的两个gammar JS. 这种词法解析的放到后面一篇再说. 网络实在不好，啥都timeout, 另外也该睡觉了。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2015/03/16/44313917/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/03/16/44313917/" class="post-title-link" itemprop="url">CSDN Markdown 编辑器 第五篇 UML</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-03-16 21:40:00" itemprop="dateCreated datePublished" datetime="2015-03-16T21:40:00+08:00">2015-03-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:41:45" itemprop="dateModified" datetime="2023-10-05T12:41:45+08:00">2023-10-05</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>756</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>1 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>这里大概就只能生成两种类型的图：</p>
<ul>
<li>序列图</li>
<li>流程图</li>
</ul>
<h1 id="序列图"><a class="markdownIt-Anchor" href="#序列图"></a> 序列图</h1>
<pre><code><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A-&gt;B: 一句话证明你很寂寞。</span><br><span class="line">Note right of B: thinking</span><br><span class="line">B-&gt;B: counting</span><br><span class="line">B--&gt;A: 这句话有一共六十九笔</span><br></pre></td></tr></table></figure>
</code></pre>
<p>Created with Raphaël 2.1.2  A  A  B  B  一句话证明你很寂寞。  thinking  counting<br />
这句话有一共六十九笔</p>
<p>序列图很简单， 左边 A-&gt;B就能生成两个对象.按照从上至下的顺序，将序列依次画出。 –&gt;是虚线， -&gt;是实线。 Note Right of 【名称】<br />
是注释框。</p>
<pre><code><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A-&gt;B: 一句话证明你很寂寞。</span><br><span class="line">Note left of A: thinking</span><br><span class="line">B-&gt;B: counting</span><br><span class="line">B--&gt;A: 这句话有一共六十九笔</span><br><span class="line">Note right of X: SB</span><br></pre></td></tr></table></figure>
</code></pre>
<p>Created with Raphaël 2.1.2  A  A  B  B  X  X  一句话证明你很寂寞。  thinking  counting<br />
这句话有一共六十九笔  SB</p>
<p>如果Note中的对象名没有出现过，就会自建一个。另外还可以使用Note left of。</p>
<p>这个js是使用的 <a target="_blank" rel="noopener" href="https://github.com/bramp/js-sequence-diagrams"> https://github.com/bramp/js-sequence-diagrams<br />
</a></p>
<h1 id="流程图"><a class="markdownIt-Anchor" href="#流程图"></a> 流程图</h1>
<pre><code><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">st=&gt;start: 开始吃饭</span><br><span class="line">e=&gt;end: 结束吃饭</span><br><span class="line">op=&gt;operation: 埋头苦吃</span><br><span class="line">cond=&gt;condition: 已经吃饱了？</span><br><span class="line"></span><br><span class="line">st-&gt;op-&gt;cond</span><br><span class="line">cond(yes)-&gt;e</span><br><span class="line">cond(no)-&gt;op</span><br></pre></td></tr></table></figure>
</code></pre>
<p>Created with Raphaël 2.1.2  开始吃饭  埋头苦吃  已经吃饱了？  结束吃饭  yes  no</p>
<p>流程图的代码： <a target="_blank" rel="noopener" href="https://github.com/adrai/flowchart.js"> https://github.com/adrai/flowchart.js<br />
</a></p>
<p>看了一下代码，准备下一篇讲一讲 UML 序列图和流程的实现。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2015/03/14/44265795/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/03/14/44265795/" class="post-title-link" itemprop="url">CSDN Markdown 编辑器 第四篇 LaTex语法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-03-14 23:31:00" itemprop="dateCreated datePublished" datetime="2015-03-14T23:31:00+08:00">2015-03-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:41:45" itemprop="dateModified" datetime="2023-10-05T12:41:45+08:00">2023-10-05</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>1.5k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>1 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Latex是为了写数学公式的。嗯…但实际这种语言的作用是为了排版的。数学公式只是他的附加属性。</p>
<p>但是markdown引入这个完全是为了写公式。其他的Latex语法不支持。</p>
<p>CSDN markdown语法支持的latex，分为两类<br />
- 行内公式：</p>
<pre><code>$\Gamma(n) = (n-1)!\quad\forall n\in\mathbb N$
</code></pre>
<p>这是行内公式：  Γ  (  n  )  =  (  n  −  1  )  !  ∀  n  ∈  N</p>
<ul>
<li>块级公式：<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>x</mi><mo>=</mo><mfrac><mrow><mo>−</mo><mi>b</mi><mo>±</mo><msqrt><mrow><msup><mi>b</mi><mn>2</mn></msup><mo>−</mo><mn>4</mn><mi>a</mi><mi>c</mi></mrow></msqrt></mrow><mrow><mn>2</mn><mi>a</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">x = \dfrac{-b \pm \sqrt{b^2 - 4ac}}{2a} 
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.276389em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.590389em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathnormal">a</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">±</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.913389em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">4</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span></span></span><span style="top:-2.873389em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.12661100000000003em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
</li>
</ul>
<p>这个是块级的。本身带着缩进。<br />
x  =  −  b  ±  b  2  −  4  a  c  −  −  −  −  −  −  −  √  2  a</p>
<p>LaTex符号等：</p>
<pre><code>常用希腊字符 $\eta$ , $\mu$ ,$\epsilon$, $\pi$, $\alpha$, $\beta$, $\gamma$, $\lambda$, 

空集: $\phi$, $\varphi$, $\Phi$,

密度量: $\rho$, $\theta$, $\zeta$, $\delta$, 

大写的$\Delta$,$\Theta$,  

以及常用的：$\Omega$, $\Sigma$,$\sigma$
</code></pre>
<p>常用希腊字符  η  ,  μ  ,  ϵ  ,  π  ,  α  ,  β  ,  γ  ,  λ  ,</p>
<p>空集:  ϕ  ,  φ  ,  Φ  ,</p>
<p>密度量:  ρ  ,  θ  ,  ζ  ,  δ  ,</p>
<p>大写的  Δ  ,  Θ  ,</p>
<p>以及常用的：  Ω  ,  Σ  ,  σ</p>
<pre><code>常用符号 
+ - * / = &lt; &gt; 
$\div$,$\le$ , $\ge$, $\approx$, $\equiv$, $\sim$, 

$\simeq$, $\ll$, $\gg$, $\in$, $\subset$, $\subseteq$, 

$\Join $, $\propto$, $\notin$, $\neq$, $\oplus$, $\times$, 

$\cup$, $\cap$, $\vee$, $\land$, $\sum$, $\prod$

$\bigcup$, $\bigcap$, $\int$, $\oint$, $\Leftarrow$, $\Rightarrow$

$\iff$, $\lgroup$, $\rgroup$, $\infty$, $\angle$,$\nabla$

$\forall$, $\exists$, $\emptyset$, 

有些我也没有用过的运算操作符就没有写。另外对称的也只写了一个。
</code></pre>
<p>常用符号:<br />
+ - * / = &lt; &gt;</p>
<p>÷  ,  ≤  ,  ≥  ,  ≈  ,  ≡  ,  ∼  ,</p>
<p>≃  ,  ≪  ,  ≫  ,  ∈  ,  ⊂  ,  ⊆  ,</p>
<p>⋈  ,  ∝  ,  ∉  ,  ≠  ,  ⊕  ,  ×  ,</p>
<p>∪  ,  ∩  ,  ∨  ,  ∧  ,  ∑  ,  ∏</p>
<p>⋃  ,  ⋂  ,  ∫  ,  ∮  ,  ⇐  ,  ⇒</p>
<p>⟺  ,  ⟮  ,  ⟯  ,  ∞  ,  ∠  ,  ∇</p>
<p>∀  ,  ∃  ,  ∅  ,</p>
<pre><code>分数 $\frac&#123;a&#125;&#123;b&#125;$ 
</code></pre>
<ul>
<li>
<p>分数  a  b<br />
指数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mi>b</mi></msup></mrow><annotation encoding="application/x-tex">a^b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>指数  a  b<br />
下标 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mrow><mi>b</mi><mi>c</mi></mrow></msub></mrow><annotation encoding="application/x-tex">a_{bc}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>下标  a  b  c<br />
微分 $\frac{\partial y}{\partial x} $</p>
</li>
<li>
<p>微分  ∂  y  ∂  x<br />
向量 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>A</mi><mi>B</mi></mrow><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{AB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>向量  A  B  →<br />
加和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><msub><mi>a</mi><mi>i</mi></msub><msub><mi>b</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\sum_{i=1}^n a_ib_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.104002em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>加和  ∑  n  i  =  1  a  i  b  i<br />
积分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∫</mo><mn>0</mn><mfrac><mi>π</mi><mn>2</mn></mfrac></msubsup><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\int_{0}^{\frac{\pi}{2}}sin(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3978000000000002em;vertical-align:-0.35582em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0419800000000001em;"><span style="top:-2.64418em;margin-left:-0.19445em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span><span style="top:-3.5579em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6915428571428572em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35582em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></p>
</li>
<li>
<p>积分  ∫  π  2  0  s  i  n  (  x  )<br />
连乘 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∏</mo><mrow><mi>a</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\prod_{a = 1}^n a_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.104002em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∏</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>连乘  ∏  n  a  =  1  a  i<br />
粗体 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">n</mi></mrow><annotation encoding="application/x-tex">\mathbf{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">n</span></span></span></span></span></p>
</li>
<li>
<p>粗体  n</p>
</li>
</ul>
<p>我看了一下Latex的这些数学符合…感觉自己的数学知识已经完全交还给体育老师了。你们上面的符号还记得多少？</p>
<p>如果人类出现了断层。数千年后，后人看这些数学符号。大概和现代人看甲骨文一样。难于识别。</p>
<p>藐视渣渣的数学学霸…上面那些符号并不是你要看的数学符号。下面的才是：</p>
<p><img src="http://img.blog.csdn.net/20150314232619110" alt="这里写图片描述" /></p>
<p><img src="http://img.blog.csdn.net/20150314232758433" alt="这里写图片描述" /></p>
<p><img src="http://img.blog.csdn.net/20150314232644194" alt="这里写图片描述" /></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2015/03/14/44249609/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/03/14/44249609/" class="post-title-link" itemprop="url">CSDN Markdown 编辑器 第三篇 基本语法篇</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-03-14 00:06:00" itemprop="dateCreated datePublished" datetime="2015-03-14T00:06:00+08:00">2015-03-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-06 01:32:50" itemprop="dateModified" datetime="2023-10-06T01:32:50+08:00">2023-10-06</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>2.1k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>2 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>这一篇准备抄一下help文档，另外加一些自己的解释。这一篇里不讲UML和LaTEX。 准备抽两个篇专门讲一下。</p>
<h2 id="1-标题与字号"><a class="markdownIt-Anchor" href="#1-标题与字号"></a> 1. 标题与字号</h2>
<p>markdown字号太少了，觉得应该再加些。</p>
<p>在文字写书写不同数量的#可以完成不同的标题，如下：</p>
<pre><code># 一级标题
## 二级标题
### 三级标题
#### 四级标题
##### 五级标题
###### 六级标题
</code></pre>
<h1 id="一级标题"><a class="markdownIt-Anchor" href="#一级标题"></a> 一级标题</h1>
<h2 id="二级标题"><a class="markdownIt-Anchor" href="#二级标题"></a> 二级标题</h2>
<h3 id="三级标题"><a class="markdownIt-Anchor" href="#三级标题"></a> 三级标题</h3>
<h4 id="四级标题"><a class="markdownIt-Anchor" href="#四级标题"></a> 四级标题</h4>
<h5 id="五级标题"><a class="markdownIt-Anchor" href="#五级标题"></a> 五级标题</h5>
<h6 id="六级标题"><a class="markdownIt-Anchor" href="#六级标题"></a> 六级标题</h6>
<p>** 这里的需要注意的是 #[空格]标题 一定要有空格 **</p>
<p>等号及减号也可以进行标题的书写，不过只能书写二级标题，并且需要写在文字的下面，减号及等号的数量不会对标题的字号产生影响，如下：</p>
<pre><code>二级标题
=========

二级标题
---------
</code></pre>
<h1 id="二级标题-2"><a class="markdownIt-Anchor" href="#二级标题-2"></a> 二级标题</h1>
<h2 id="二级标题-3"><a class="markdownIt-Anchor" href="#二级标题-3"></a> 二级标题</h2>
<p>一直觉得这个语法是对诡异的。因为 <code>\-</code> 极可能是无序列表中的第一行。所以这个语法判断时候，还要判断 <code>\-</code><br />
后面是否有一个空格。感觉文法很不舒服。这是为什么呢？</p>
<p>解析一下：markdown文法类似</p>
<p><img src="http://img.blog.csdn.net/20150314000133833" alt="这里写图片描述" /></p>
<p>从A到B的转移通过字符 <code>\-</code> ,在B状态下markdown认为这个上面的字符都要加粗。如果下一个字符是[空格]，那么markdown认为是一个无序列<br />
表，将上面一行的所有文字的状态置为不加粗。虽然这个是状态的改变。但是在我们眼里，这是之前文字的状态改变。所以我们觉得这个文法就不舒服。因为我们习惯于向同一个<br />
方向书写。而不是写着写着回顾另外一个方向。</p>
<hr />
<h2 id="2-有序和无序"><a class="markdownIt-Anchor" href="#2-有序和无序"></a> 2. 有序和无序</h2>
<p>无序列表的使用，在符号“-”后加空格使用。如下：<br />
另外注意 <code>\-</code> 一定要是开始字符，如果不是那么 <code>\-</code> 之前只能有空格或者tab字符。</p>
<pre><code>- 无序列表1
- 无序列表2
- 无序列表3
</code></pre>
<ul>
<li>无序列表1</li>
<li>无序列表2</li>
<li>无序列表3</li>
</ul>
<p>如果要控制列表的层级，则需要在符号“-”前使用空格或者tab。如下：</p>
<pre><code>- 无序列表1
- 无序列表2
  - 无序列表2.1
     - 列表内容
     - 列表内容
</code></pre>
<ul>
<li>
<p>无序列表1</p>
</li>
<li>
<p>无序列表2</p>
<ul>
<li>
<p>无序列表2.1</p>
<ul>
<li>列表内容</li>
<li>列表内容</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>有序列表的使用，在数字及符号“.”后加空格几个，如下：</p>
<pre><code>1. 有序列表1
2. 有序列表2
    3.  有序列表2.1
    4.  有序列表2.2
        - 这
        - 无
            1. 有
            2. 序
        - 序
3. 有序列表3
</code></pre>
<ol>
<li>有序列表1</li>
<li>有序列表2</li>
</ol>
<pre><code>1. 有序列表2.1 
2. 有序列表2.2   

  * 这 
  * 无   

    1. 有 
    2. 序 
  * 序 
</code></pre>
<ol start="3">
<li>有序列表3</li>
</ol>
<p>有序列表如果要区分层级，也可以在数字前加空格或者tab。</p>
<hr />
<h2 id="3-引用"><a class="markdownIt-Anchor" href="#3-引用"></a> 3. 引用</h2>
<p>引用的格式是使用符号“&gt;”后面书写文字. ”&gt;“之后是否加空格不影响。如下：</p>
<pre><code>&gt; 我说的都是我说的——帐前卒
</code></pre>
<blockquote>
<p>我说的都是我说的——帐前卒</p>
</blockquote>
<hr />
<h2 id="4-粗体和斜体"><a class="markdownIt-Anchor" href="#4-粗体和斜体"></a> 4. 粗体和斜体</h2>
<p>粗体和斜体： 一个 <code>*</code> 两个 <code>*</code> 还是三个 <code>*</code> . 注意 <code>**[你的字符]**</code> 中 <code>*</code> 号和你的字符之间没有空格。<br />
一个 <code>*</code> : <code>*你是斜体*</code> _ 你是斜体 _<br />
两个 <code>*</code> : <code>**不对，你是粗体**</code> ** 不对，你是粗体 **<br />
三个 <code>*</code> : <code>***你又粗又斜***</code> ** _ 你又粗又斜 _ **</p>
<hr />
<h2 id="5-链接"><a class="markdownIt-Anchor" href="#5-链接"></a> 5. 链接</h2>
<ul>
<li>在引用中加链接，第一个中括号添加需要添加的文字，第二个中括号中是引用链接的id，之后在引用中，使用id加链接：如下：<br />
[link text][id]<br />
[id]: <span class="exturl" data-url="aHR0cDovL2V4YW1wbGUuY29tLw==">http://example.com/<i class="fa fa-external-link-alt"></i></span> “optional title here”</li>
</ul>
<p>上面的文字将展示为：</p>
<p><span class="exturl" data-url="aHR0cDovL2V4YW1wbGUuY29tLw=="> link text <i class="fa fa-external-link-alt"></i></span></p>
<ul>
<li>在文中直接引用链接，直接使用尖括号，把链接加入到尖括号中就可以实现，如下：</li>
</ul>
<p><span class="exturl" data-url="aHR0cDovL2V4YW1wbGUuY29tLw=="> http://example.com/ <i class="fa fa-external-link-alt"></i></span> or <span class="exturl" data-url="bWFpbHRvOmFkZHJlc3NAZXhhbXBsZS5jb20="> address@example.com<i class="fa fa-external-link-alt"></i></span></p>
<p>展示如下：<br />
<span class="exturl" data-url="aHR0cDovL2V4YW1wbGUuY29tLw=="> http://example.com/ <i class="fa fa-external-link-alt"></i></span> or <span class="exturl" data-url="bWFpbHRvOmFkZHJlc3NAZXhhbXBsZS5jb20="> address@example.com<i class="fa fa-external-link-alt"></i></span></p>
<ul>
<li>插入互联网上图片，格式如下：</li>
</ul>
<p><code>![这里写图片描述](http://img3.douban.com/mpic/s1108264.jpg)</code></p>
<p><img src="http://img3.douban.com/mpic/s1108264.jpg" alt="这里写图片描述" /></p>
<pre><code>或者如下面的写法：
![这里写图片描述][jane-eyre-douban]

[jane-eyre-douban]: http://img3.douban.com/mpic/s1108264.jpg`
</code></pre>
<p><img src="http://img3.douban.com/mpic/s1108264.jpg" alt="这里写图片描述" /></p>
<hr />
<h2 id="6-代码块-如果在一个行内需要引用代码只要用反引号引起来就好如下-use-the-printf-function-"><a class="markdownIt-Anchor" href="#6-代码块-如果在一个行内需要引用代码只要用反引号引起来就好如下-use-the-printf-function-"></a> 6. 代码块 - 如果在一个行内需要引用代码，只要用反引号<code>引起来就好，如下： Use the </code>printf()` function. -</h2>
<p>用TAB键起始的段落，会被认为是代码块，如下： echo “hello world”; - 如果TAB不管用的话，需要使用三个反引号` 例如：<br />
下面连高亮都做了。</p>
<pre><code>&lt;php&gt;
    echo &quot;hello world&quot;;
&lt;/php&gt;
</code></pre>
<hr />
<h2 id="7-分割线和删除线"><a class="markdownIt-Anchor" href="#7-分割线和删除线"></a> 7. 分割线和删除线</h2>
<p>可以在一行中用三个以上的星号、减号、底线来建立一个分隔线，同时需要在分隔线的上面空一行。如下：</p>
<pre><code>---
****
___
展示如下：
</code></pre>
<hr />
<hr />
<hr />
<p>删除线的使用，在需要删除的文字前后各使用两个符号“~”，如下</p>
<pre><code>~~Mistaken text.~~
</code></pre>
<p><del> Mistaken text. </del></p>
<hr />
<h2 id="8-表格"><a class="markdownIt-Anchor" href="#8-表格"></a> 8. 表格</h2>
<p>可以使用冒号来定义表格的对齐方式，如下：</p>
<pre><code>| Tables | Are | Cool |
| ------------- |:-------------:| -----:|
| col 3 is | right-aligned | $1600 |
| col 2 is | centered | $12 |
| zebra stripes | are neat | $1 |
| somemissed |
|||$20|
</code></pre>
<p>Tables  Are  Cool</p>
<p>col 3 is</p>
<p>right-aligned</p>
<p>$1600</p>
<p>col 2 is</p>
<p>centered</p>
<p>$12</p>
<p>zebra stripes</p>
<p>are neat</p>
<p>$1</p>
<p>somemissed</p>
<p>$20</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://chillyc.info/2015/03/12/44228961/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/icon.svg">
      <meta itemprop="name" content="帐前卒">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="帐前卒专栏">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 帐前卒专栏">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/03/12/44228961/" class="post-title-link" itemprop="url">CSDN Markdown 编辑器 第二篇  Markdown简单使用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-03-12 22:57:00" itemprop="dateCreated datePublished" datetime="2015-03-12T22:57:00+08:00">2015-03-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-05 12:41:45" itemprop="dateModified" datetime="2023-10-05T12:41:45+08:00">2023-10-05</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>929</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>1 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>第一篇简单介绍了markdown. <a target="_blank" rel="noopener" href="http://blog.csdn.net/cctt_1/article/details/44206543"> 第一篇地址<br />
</a><br />
第二篇主要会介绍不熟悉markdown语言的人如何使用CSDN新的编辑器。这里主要介绍图形编辑器。已经掌握的人请挪步。</p>
<p><img src="http://img.blog.csdn.net/20150312220752199" alt="编辑器bar" /></p>
<ul>
<li>
<p>前面几个都非常简单。例如对字体 ** 加粗 ** 和 ** _ 斜体 _ ** 。</p>
</li>
<li>
<p>或者是对 <a href="http://chillyc.info"> 帐前卒专栏 </a> 加个链接。用 <img src="http://img.blog.csdn.net/20150312221433385" alt="连接图标" /></p>
</li>
<li>
<p>再者就是加个图片： <img src="http://img.blog.csdn.net/20150312221338156" alt="图片图标" /></p>
</li>
</ul>
<p><img src="http://img.blog.csdn.net/20150312221243608" alt="数字图片" /></p>
<p>上图的算式= ？<br />
呃…好吧，这不是重点。</p>
<ul>
<li>
<p>再用这个图形编辑器写点代码。圈中代码块后，点击： <img src="http://img.blog.csdn.net/20150312231210199" alt="这里写图片描述" /><br />
// 这个是世界上最好的语言php<br />
<php><br />
echo “世界上最好的语言”;<br />
</php></p>
</li>
<li>
<p>再比如引用名人名言，用这个 <img src="http://img.blog.csdn.net/20150312231435135" alt="这里写图片描述" /></p>
</li>
</ul>
<blockquote>
<p>啊，我现在在地球上 —— 帐前卒</p>
</blockquote>
<ul>
<li>
<p>有时候我们需要对很多事物排序。所以用这个： <img src="http://img.blog.csdn.net/20150312231452389" alt="这里写图片描述" /></p>
<ol>
<li>吃早餐</li>
<li>吃橘子</li>
<li>吃桂圆</li>
<li>…</li>
<li>睡觉</li>
<li>起来继续吃</li>
<li>…</li>
</ol>
</li>
</ul>
<p>这样，用排序的方法把自己的生活整理的井井有条。</p>
<ul>
<li>
<p>无序的列表用： <img src="http://img.blog.csdn.net/20150312222409182" alt="无序图标" /> ， 比如吃什么肉其实并不重要，重要的是有肉吃。</p>
<ul>
<li>吃粉蒸肉</li>
<li>吃红烧肉</li>
<li>吃唐僧肉</li>
</ul>
</li>
</ul>
<p>我觉得这里这里的无序图标和有序的图标长得差不多。 ** UI还是需要改改吧 ** 。</p>
<ul>
<li>这个图标 <img src="http://img.blog.csdn.net/20150312222944075" alt="字体大小" /> 是用来修改字号的。不过这个字号只有 <code>&lt;h1&gt;</code> , <code>&lt;h2&gt;</code> 和正常三种字号可以改。感觉很 ** 鸡肋 ** 呀。</li>
</ul>
<h1 id="我是no1"><a class="markdownIt-Anchor" href="#我是no1"></a> 我是No.1</h1>
<h2 id="我是no2"><a class="markdownIt-Anchor" href="#我是no2"></a> 我是No.2</h2>
<p>我是No.3</p>
<hr />
<hr />
<p>上面竟然不能出现 ** 华丽的分割线 ** 这几个字. 嗯，CSDN能不能满足一下我的这个需求?</p>
<ul>
<li>
<p><img src="http://img.blog.csdn.net/20150312231655705" alt="这里写图片描述" /> 这个就不细说了。</p>
</li>
<li>
<p><img src="http://img.blog.csdn.net/20150312231836920" alt="这里写图片描述" /> 这个图标不要轻易点。嗯.除非你想发狂。</p>
</li>
<li>
<p><img src="http://img.blog.csdn.net/20150312231748326" alt="这里写图片描述" /> 是保存到线上草稿箱中，类似于save. 你可以在后台草稿箱找到保存的。</p>
</li>
</ul>
<p><img src="http://img.blog.csdn.net/20150312225206154" alt="保存" /></p>
<ul>
<li><img src="http://img.blog.csdn.net/20150312231934109" alt="这里写图片描述" /> 生成摘要，点击后长这个样子：</li>
</ul>
<p><img src="http://img.blog.csdn.net/20150312225021540" alt="摘要" /></p>
<ul>
<li><img src="http://img.blog.csdn.net/20150312231955918" alt="这里写图片描述" /> 点击后长这个样子。没有什么更加详细的描述了。</li>
</ul>
<p><img src="http://img.blog.csdn.net/20150312225223869" alt="文章设置" /></p>
<ul>
<li>
<p><img src="http://img.blog.csdn.net/20150312231904987" alt="这里写图片描述" /> 感觉也很 ** 危险 ** 最好还是不要去点击。<br />
<img src="http://img.blog.csdn.net/20150312225439905" alt="导入" /></p>
</li>
<li>
<p><img src="http://img.blog.csdn.net/20150312231952943" alt="这里写图片描述" /> 这个是将本地的markdown文件 _ .md变成线上可以编辑的。而 <img src="http://img.blog.csdn.net/20150312232004425" alt="这里写图片描述" /> 是将现在线上正在编辑的文字变成 _ .md本地文件或者html 等。</p>
</li>
</ul>
<p><img src="http://img.blog.csdn.net/20150312225914755" alt="这里写图片描述" /></p>
<p><img src="http://img.blog.csdn.net/20150312225933881" alt="这里写图片描述" /></p>
<ul>
<li><img src="http://img.blog.csdn.net/20150312232016110" alt="这里写图片描述" /> 帮助文档就是下面这个样子的。会在右边出现。方便使用。</li>
</ul>
<p><img src="http://img.blog.csdn.net/20150312230414472" alt="帮助截图" /></p>
<h3 id="end"><a class="markdownIt-Anchor" href="#end"></a> ** END **</h3>
<p>好吧，该睡了。这一篇非常基础，所以感觉废话太多。 ** 下一篇开始介绍markdown的基本语法。 **</p>
<p>另外用csdn markdown编辑器的时候，发现了一个不错的东西。鼠标移至右下角</p>
<p><img src="http://img.blog.csdn.net/20150312230757470" alt="这里写图片描述" /></p>
<p>这里能看到文章标题列表。和本篇文章的字数统计。不错的功能~</p>
<p>我以为csdn markdown 也支持 <code>&lt;i class=&quot;icon-undo&quot;&gt;</code> 这个内部标签功能呢。因为在后台它是这样显示的：</p>
<p><img src="http://img.blog.csdn.net/20150312231529247" alt="这里写图片描述" /></p>
<p>但是发布之后，却无法显示出来这个图标。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/80/">80</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2017 – 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">帐前卒</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>Word count total: </span>
    <span title="Word count total">1.6m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>Reading time total &asymp;</span>
    <span title="Reading time total">23:58</span>
  </span>
</div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.18.1/source/js/comments.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.18.1/source/js/utils.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.18.1/source/js/motion.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.18.1/source/js/next-boot.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.18.1/source/js/bookmark.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.1/dist/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.18.1/source/js/third-party/search/local-search.min.js"></script>







  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css" integrity="sha256-3574TpfThVfeAhg+I4+N39EJiLN3QUkuEsMVe8hWAR4=" crossorigin="anonymous">


<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"chilly/blog_comments","issue_term":"url","theme":"github-dark"}</script>
<script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.18.1/source/js/third-party/comments/utterances.min.js"></script>

</body>
</html>
